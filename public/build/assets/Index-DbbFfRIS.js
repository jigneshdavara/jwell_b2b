import{u as ae,r as c,b as T,j as e,H as le,L as W}from"./app-2_233VM5.js";import{A as re}from"./AuthenticatedLayout-BJ0QJLye.js";import"./ApplicationLogo-CyVPGvDd.js";import"./FlashMessage-M_rn5rUv.js";const k={brand:"Brand",metal:"Metal",metal_purity:"Metal purity",metal_tone:"Metal tone",search:"Search",category:"Category",catalog:"Catalog",price_min:"Min price",price_max:"Max price",jobwork_available:"Available for jobwork",ready_made:"Ready made jewelry"},p=0,v=5e5,z=1e3,I=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0});function he(){const l=ae(),{mode:h,filters:o,products:N,facets:n}=l.props,E=l.props.wishlist?.product_ids??[],j=c.useMemo(()=>new Set(E),[E]),[B,M]=c.useState(null),[C,A]=c.useState("grid"),[L,F]=c.useState(o.sort??"newest"),[S,f]=c.useState(N.data),[P,D]=c.useState(N.next_page_url),[g,x]=c.useState(!1),[u,y]=c.useState(!1),H=c.useRef([]),K=c.useRef(null),[m,$]=c.useState({categories:!1,catalogs:!0,brands:!0,metals:!1,metalPurities:!0,metalTones:!0,diamond:!0,price:!1,availability:!1}),a=c.useMemo(()=>{const t=i=>i?Array.isArray(i)?i.map(String):[String(i)]:[],s=i=>{if(typeof i!="string")return;const r=i.trim();return r===""?void 0:r};return{brand:t(o.brand),search:s(Array.isArray(o.search)?o.search[0]:o.search),metal:t(o.metal),metal_purity:t(o.metal_purity),metal_tone:t(o.metal_tone),diamond:t(o.diamond),price_min:s(o.price_min),price_max:s(o.price_max),category:t(o.category),catalog:s(o.catalog),sort:s(o.sort),jobwork_available:s(o.jobwork_available),ready_made:s(o.ready_made)}},[o]),[G,Y]=c.useState(a.search??""),[q,R]=c.useState(()=>({min:a.price_min?Number(a.price_min):p,max:a.price_max?Number(a.price_max):v}));c.useEffect(()=>{R({min:a.price_min?Number(a.price_min):p,max:a.price_max?Number(a.price_max):v})},[a.price_min,a.price_max]),c.useEffect(()=>{F(o.sort??"newest")},[o.sort]),c.useEffect(()=>{g?(f(t=>[...H.current,...N.data]),x(!1)):(f(N.data),H.current=[],typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})),D(N.next_page_url),y(!1)},[N.data,N.next_page_url]),c.useEffect(()=>{const t=K.current;if(!t||!P)return;const s=new IntersectionObserver(i=>{const[r]=i;r.isIntersecting&&!u&&P&&(H.current=S,x(!0),y(!0),T.get(P,{},{preserveScroll:!0,preserveState:!0,replace:!1,only:["products"],onError:()=>{x(!1),y(!1)}}))},{rootMargin:"200px"});return s.observe(t),()=>s.disconnect()},[P,u,S]);const U=(t,s)=>{T.get(route("frontend.catalog.index"),{...o,price_min:t>p?String(t):void 0,price_max:s<v?String(s):void 0,mode:h,page:void 0},{preserveScroll:!0,preserveState:!0})},Q=()=>{R({min:p,max:v}),T.get(route("frontend.catalog.index"),{...o,price_min:void 0,price_max:void 0,mode:h,page:void 0},{preserveScroll:!0,preserveState:!0})},V=l.props.navigation??{},w=c.useMemo(()=>{const t=new Map;return n.metals.forEach(s=>t.set(`metal:${s.id}`,s.name)),n.metalPurities.forEach(s=>t.set(`metal_purity:${s.id}`,s.name)),n.metalTones.forEach(s=>t.set(`metal_tone:${s.id}`,s.name)),n.diamondOptions.types.forEach(s=>t.set(`diamond:type:${s.id}`,s.name)),n.diamondOptions.shapes.forEach(s=>t.set(`diamond:shape:${s.id}`,s.name)),n.diamondOptions.colors.forEach(s=>t.set(`diamond:color:${s.id}`,s.name)),n.diamondOptions.clarities.forEach(s=>t.set(`diamond:clarity:${s.id}`,s.name)),n.diamondOptions.cuts.forEach(s=>t.set(`diamond:cut:${s.id}`,s.name)),n.brands.forEach(s=>t.set(`brand:${s}`,s)),n.categories.forEach(s=>{t.set(`category:${s.slug??s.id}`,s.name)}),n.catalogs.forEach(s=>{t.set(`catalog:${s.slug??s.id}`,s.name)}),(V.categories??[]).forEach(s=>{t.set(`category:${s.slug??s.id}`,s.name)}),(V.catalogs??[]).forEach(s=>{t.set(`catalog:${s.slug??s.id}`,s.name)}),t},[n,V]),b=(t,s)=>{T.get(route("frontend.catalog.index"),{...o,[t]:s??void 0,mode:h,page:void 0},{preserveScroll:!0,preserveState:!0})},ee=()=>{T.get(route("frontend.catalog.index"),{mode:h})},te=t=>{t.preventDefault(),b("search",G.trim()||void 0)},se=(t,s)=>{B!==t&&(M(t),j.has(t)?T.delete(route("frontend.wishlist.items.destroy-by-product",t),{data:{product_variant_id:s??void 0},preserveScroll:!0,onFinish:()=>M(null)}):T.post(route("frontend.wishlist.items.store"),{product_id:t,product_variant_id:s??void 0},{preserveScroll:!0,onFinish:()=>M(null)}))},X=c.useMemo(()=>{const t=[];return a.brand.forEach(s=>{t.push({key:"brand",value:s,label:k.brand,valueLabel:w.get(`brand:${s}`)??s})}),a.metal.forEach(s=>{t.push({key:"metal",value:s,label:k.metal,valueLabel:w.get(`metal:${s}`)??s})}),a.metal_purity.forEach(s=>{t.push({key:"metal_purity",value:s,label:k.metal_purity,valueLabel:w.get(`metal_purity:${s}`)??s})}),a.metal_tone.forEach(s=>{t.push({key:"metal_tone",value:s,label:k.metal_tone,valueLabel:w.get(`metal_tone:${s}`)??s})}),a.search&&t.push({key:"search",value:a.search,label:k.search,valueLabel:a.search}),a.category.forEach(s=>{t.push({key:"category",value:s,label:k.category,valueLabel:w.get(`category:${s}`)??s})}),a.catalog&&t.push({key:"catalog",value:a.catalog,label:k.catalog,valueLabel:w.get(`catalog:${a.catalog}`)??a.catalog}),a.diamond.forEach(s=>{t.push({key:"diamond",value:s,label:"Diamond",valueLabel:w.get(`diamond:type:${s}`)??w.get(`diamond:shape:${s}`)??w.get(`diamond:color:${s}`)??w.get(`diamond:clarity:${s}`)??w.get(`diamond:cut:${s}`)??s})}),a.price_min&&t.push({key:"price_min",value:a.price_min,label:k.price_min,valueLabel:I.format(Number(a.price_min))}),a.price_max&&t.push({key:"price_max",value:a.price_max,label:k.price_max,valueLabel:I.format(Number(a.price_max))}),a.jobwork_available==="1"&&t.push({key:"jobwork_available",value:"1",label:k.jobwork_available,valueLabel:"Yes"}),a.ready_made==="1"&&t.push({key:"ready_made",value:"1",label:k.ready_made,valueLabel:"Yes"}),t},[a,w]);return e.jsxs(re,{children:[e.jsx(le,{title:"Catalogue"}),e.jsxs("div",{className:"space-y-4",id:"catalog",children:[e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:h==="jobwork"?"Jobwork-ready Designs":"Showcase Collection"}),e.jsxs("form",{onSubmit:te,className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx("input",{type:"search",value:G,onChange:t=>Y(t.target.value),placeholder:"Search SKU or design",className:"w-full rounded-xl border border-slate-300 bg-white/80 px-3 py-1.5 text-sm text-slate-700 shadow-inner focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20"}),a.search&&e.jsx("button",{type:"button",onClick:()=>{Y(""),b("search")},className:"absolute inset-y-0 right-2 flex items-center text-xs font-medium text-slate-400 hover:text-slate-600",children:"Clear"})]}),e.jsx("button",{type:"submit",className:"rounded-xl bg-elvee-blue px-3 py-1.5 text-sm font-semibold text-white shadow-elvee-blue/30 transition hover:bg-navy",children:"Search"}),e.jsx("button",{type:"button",onClick:ee,className:"rounded-xl border border-slate-300 px-3 py-1.5 text-sm font-medium text-slate-600 hover:border-slate-400 hover:text-slate-800",children:"Reset"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl bg-white p-3 shadow-sm ring-1 ring-slate-200/70",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>A("grid"),className:`inline-flex h-9 w-9 items-center justify-center rounded-full transition ${C==="grid"?"bg-slate-900 text-white shadow-lg shadow-slate-900/20":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,"aria-label":"Grid view",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,className:"h-4 w-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25A2.25 2.25 0 018 10.5H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})})}),e.jsx("button",{type:"button",onClick:()=>A("list"),className:`inline-flex h-9 w-9 items-center justify-center rounded-full transition ${C==="list"?"bg-slate-900 text-white shadow-lg shadow-slate-900/20":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,"aria-label":"List view",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,className:"h-4 w-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx("label",{htmlFor:"catalog-sort",className:"font-medium",children:"Sort by"}),e.jsxs("select",{id:"catalog-sort",value:L,onChange:t=>{const s=t.target.value;F(s),b("sort",s==="newest"?void 0:s)},className:"rounded-2xl border border-slate-200 px-3 py-2 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20",children:[e.jsx("option",{value:"newest",children:"Newest arrivals"}),e.jsx("option",{value:"price_asc",children:"Price: Low to high"}),e.jsx("option",{value:"price_desc",children:"Price: High to low"}),e.jsx("option",{value:"name_asc",children:"Name: A to Z"})]})]})]}),X.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:X.map(({key:t,label:s,valueLabel:i,value:r})=>e.jsxs("button",{onClick:()=>{if(t==="brand"||t==="metal"||t==="metal_purity"||t==="metal_tone"||t==="category"||t==="diamond"){const _=(Array.isArray(a[t])?a[t]:[]).filter(J=>J!==r);b(t,_.length?_:void 0);return}if(t==="price_min"){U(p,a.price_max?Number(a.price_max):v);return}if(t==="price_max"){U(a.price_min?Number(a.price_min):p,v);return}if(t==="jobwork_available"||t==="ready_made"){b(t,void 0);return}b(t)},className:"inline-flex items-center gap-1 rounded-full bg-slate-200 px-2.5 py-0.5 text-slate-700 hover:bg-slate-300",children:[s,": ",e.jsx("span",{className:"font-semibold",children:i}),e.jsx("span",{"aria-hidden":!0,children:"×"})]},`${t}-${i}`))}),e.jsxs("div",{className:"grid gap-4 rounded-2xl bg-white p-4 shadow-xl ring-1 ring-slate-200/70 lg:grid-cols-5",children:[e.jsxs("aside",{className:"space-y-3 lg:col-span-1",children:[e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>$(t=>({...t,categories:!t.categories})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Categories"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${m.categories?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!m.categories&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:n.categories.map(t=>{const s=t.slug??String(t.id),i=a.category.includes(s);return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${i?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:i,onChange:r=>{const d=[...a.category];if(r.target.checked)d.includes(s)||d.push(s);else{const _=d.indexOf(s);_>=0&&d.splice(_,1)}b("category",d.length?d:void 0)}}),e.jsx("span",{children:t.name})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>$(t=>({...t,availability:!t.availability})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Availability"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${m.availability?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!m.availability&&e.jsxs("div",{className:"mt-3 space-y-1.5 text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2.5 py-1.5 text-sm transition text-slate-600",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:a.jobwork_available==="1",onChange:t=>{b("jobwork_available",t.target.checked?"1":void 0)}}),e.jsx("span",{children:"Available for jobwork"})]}),e.jsxs("label",{className:"flex items-center gap-2.5 py-1.5 text-sm transition text-slate-600",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:a.ready_made==="1",onChange:t=>{b("ready_made",t.target.checked?"1":void 0)}}),e.jsx("span",{children:"Ready made jewelry"})]})]})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>$(t=>({...t,catalogs:!t.catalogs})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Catalogs"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${m.catalogs?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!m.catalogs&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:n.catalogs.map(t=>{const s=t.slug??String(t.id),i=a.catalog===s;return e.jsxs("button",{type:"button",onClick:()=>b("catalog",i?void 0:s),className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-xs font-semibold transition ${i?"bg-slate-900 text-white shadow-sm shadow-slate-800/30":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"}`,children:[t.name,i&&e.jsx("span",{className:"text-[11px] font-medium text-slate-500",children:"×"})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>$(t=>({...t,brands:!t.brands})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Brands"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${m.brands?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!m.brands&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:n.brands.map(t=>{const s=a.brand.includes(t);return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:i=>{const r=[...a.brand];if(i.target.checked)r.includes(t)||r.push(t);else{const d=r.indexOf(t);d>=0&&r.splice(d,1)}b("brand",r.length?r:void 0)}}),e.jsx("span",{children:t})]},t)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>$(t=>({...t,metals:!t.metals})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Metals"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${m.metals?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!m.metals&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:n.metals.map(t=>{const s=a.metal.includes(String(t.id));return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:i=>{const r=[...a.metal];if(i.target.checked)r.push(String(t.id));else{const d=r.indexOf(String(t.id));d>=0&&r.splice(d,1)}b("metal",r.length?r:void 0)}}),e.jsx("span",{children:t.name})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>$(t=>({...t,metalPurities:!t.metalPurities})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Metal purities"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${m.metalPurities?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!m.metalPurities&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:n.metalPurities.map(t=>{const s=a.metal_purity.includes(String(t.id));return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:i=>{const r=[...a.metal_purity];if(i.target.checked)r.push(String(t.id));else{const d=r.indexOf(String(t.id));d>=0&&r.splice(d,1)}b("metal_purity",r.length?r:void 0)}}),e.jsxs("span",{children:[t.name," ",t.metal?`(${t.metal.name})`:""]})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>$(t=>({...t,metalTones:!t.metalTones})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Metal tones"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${m.metalTones?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!m.metalTones&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:n.metalTones.map(t=>{const s=a.metal_tone.includes(String(t.id));return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:i=>{const r=[...a.metal_tone];if(i.target.checked)r.push(String(t.id));else{const d=r.indexOf(String(t.id));d>=0&&r.splice(d,1)}b("metal_tone",r.length?r:void 0)}}),e.jsxs("span",{children:[t.name," ",t.metal?`(${t.metal.name})`:""]})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>$(t=>({...t,diamond:!t.diamond})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Diamond"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${m.diamond?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!m.diamond&&e.jsx("div",{className:"mt-3 space-y-4 text-sm",children:[{title:"Types",kind:"type",options:n.diamondOptions.types},{title:"Shapes",kind:"shape",options:n.diamondOptions.shapes},{title:"Colors",kind:"color",options:n.diamondOptions.colors},{title:"Clarities",kind:"clarity",options:n.diamondOptions.clarities},{title:"Cuts",kind:"cut",options:n.diamondOptions.cuts}].map(({title:t,kind:s,options:i})=>e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:t}),e.jsx("div",{className:"mt-2 space-y-1.5",children:i.map(r=>{const d=`${s}:${r.id}`,_=a.diamond.includes(d);return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${_?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:_,onChange:J=>{const O=[...a.diamond];if(J.target.checked)O.includes(d)||O.push(d);else{const Z=O.indexOf(d);Z>=0&&O.splice(Z,1)}b("diamond",O.length?O:void 0)}}),e.jsx("span",{children:r.name})]},d)})})]},s))})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>$(t=>({...t,price:!t.price})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Price range (₹)"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${m.price?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!m.price&&e.jsx(ne,{applyPriceRange:U,resetPriceRange:Q,priceRange:q,setPriceRange:R})]})]}),e.jsxs("section",{className:"lg:col-span-4",children:[S.length===0?e.jsx("div",{className:"rounded-2xl border border-dashed border-slate-300 p-6 text-center text-sm text-slate-500",children:"No products match your filters. Try broadening your search or reset filters."}):e.jsx("div",{className:C==="grid"?"grid gap-4 sm:grid-cols-2 xl:grid-cols-3":"flex flex-col gap-3",children:S.map(t=>{const s=route("frontend.catalog.show",{product:t.id,mode:h}),i=t.thumbnail??t.media?.[0]?.url??null,r=t.variants.find(_=>_.is_default)??t.variants[0]??null,d=j.has(t.id);return e.jsx(ie,{product:t,productLink:s,imageUrl:i,defaultVariant:r,isWishlisted:d,wishlistBusyId:B,viewMode:C,mode:h,toggleWishlist:se},t.id)})}),e.jsx("div",{ref:K,className:"mt-10 flex justify-center",children:u&&e.jsx("span",{className:"rounded-full bg-slate-100 px-4 py-2 text-sm font-medium text-slate-600",children:"Loading more products…"})})]})]})]})]})}function ne({priceRange:l,setPriceRange:h,applyPriceRange:o,resetPriceRange:N}){const n=(g,x,u)=>Math.min(Math.max(g,x),u),[E,j]=c.useState(null),B=c.useRef(null),M=g=>(g-p)/(v-p)*100,C=g=>{const x=Number(g.target.value);Number.isNaN(x)||h(u=>{const y=n(x,p,u.max-z);return{...u,min:y}})},A=g=>{const x=Number(g.target.value);Number.isNaN(x)||h(u=>{const y=n(x,u.min+z,v);return{...u,max:y}})},L=g=>{const x=g.target.value===""?p:Number(g.target.value);Number.isNaN(x)||h(u=>{const y=n(x,p,u.max-z);return{...u,min:y}})},F=g=>{const x=g.target.value===""?v:Number(g.target.value);Number.isNaN(x)||h(u=>{const y=n(x,u.min+z,v);return{...u,max:y}})},S=()=>o(l.min,l.max),f=()=>N(),P=M(l.min),D=M(l.max);return e.jsxs("div",{className:"mt-3 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs font-medium text-slate-500",children:[e.jsx("span",{children:I.format(l.min)}),e.jsx("span",{children:I.format(l.max)})]}),e.jsxs("div",{className:"relative",ref:B,children:[e.jsx("div",{className:"relative h-2 w-full rounded-full bg-slate-200",children:e.jsx("div",{className:"absolute h-2 rounded-full bg-feather-gold",style:{left:`${P}%`,width:`${D-P}%`}})}),e.jsx("input",{type:"range",min:p,max:v,step:z,value:l.min,onChange:C,onMouseDown:()=>j("min"),onMouseUp:()=>j(null),onTouchStart:()=>j("min"),onTouchEnd:()=>j(null),className:"absolute top-0 h-2 w-full cursor-pointer appearance-none bg-transparent [&::-webkit-slider-thumb]:relative [&::-webkit-slider-thumb]:z-10 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-feather-gold [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:hover:scale-110 [&::-webkit-slider-thumb]:hover:bg-warm-gold [&::-moz-range-thumb]:relative [&::-moz-range-thumb]:z-10 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-feather-gold [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg [&::-moz-range-thumb]:transition-all [&::-moz-range-thumb]:hover:scale-110 [&::-moz-range-thumb]:hover:bg-warm-gold",style:{zIndex:E==="min"?20:10}}),e.jsx("input",{type:"range",min:p,max:v,step:z,value:l.max,onChange:A,onMouseDown:()=>j("max"),onMouseUp:()=>j(null),onTouchStart:()=>j("max"),onTouchEnd:()=>j(null),className:"absolute top-0 h-2 w-full cursor-pointer appearance-none bg-transparent [&::-webkit-slider-thumb]:relative [&::-webkit-slider-thumb]:z-10 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-feather-gold [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:hover:scale-110 [&::-webkit-slider-thumb]:hover:bg-warm-gold [&::-moz-range-thumb]:relative [&::-moz-range-thumb]:z-10 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-feather-gold [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg [&::-moz-range-thumb]:transition-all [&::-moz-range-thumb]:hover:scale-110 [&::-moz-range-thumb]:hover:bg-warm-gold",style:{zIndex:E==="max"?20:10}})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",htmlFor:"price-min",children:"Min"}),e.jsx("input",{id:"price-min",type:"number",value:l.min,onChange:L,min:p,max:l.max,step:z,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-1.5 text-sm text-slate-700 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",htmlFor:"price-max",children:"Max"}),e.jsx("input",{id:"price-max",type:"number",value:l.max,onChange:F,min:l.min,max:v,step:z,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-1.5 text-sm text-slate-700 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:S,className:"flex-1 rounded-lg bg-elvee-blue px-4 py-2 text-sm font-semibold text-white shadow-elvee-blue/30 transition hover:bg-navy",children:"Apply"}),e.jsx("button",{type:"button",onClick:f,className:"flex-1 rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900",children:"Reset"})]})]})}function ie({product:l,productLink:h,imageUrl:o,defaultVariant:N,isWishlisted:n,wishlistBusyId:E,viewMode:j,mode:B,toggleWishlist:M}){const C=E===l.id,A=B==="jobwork"&&l.is_jobwork_allowed,L=f=>f==null?"—":`${f.toFixed(2)} g`,F=[l.gold_weight!==null&&l.gold_weight!==void 0?`${l.gold_weight.toFixed(2)} g gold`:null,l.silver_weight!==null&&l.silver_weight!==void 0?`${l.silver_weight.toFixed(2)} g silver`:null,l.other_material_weight!==null&&l.other_material_weight!==void 0?`${l.other_material_weight.toFixed(2)} g other`:null,l.total_weight!==null&&l.total_weight!==void 0?`${l.total_weight.toFixed(2)} g total`:null].filter(Boolean),S=e.jsx("button",{type:"button",onClick:f=>{f.preventDefault(),f.stopPropagation(),M(l.id,N?.id??null)},disabled:C,"aria-pressed":n,className:`inline-flex h-10 w-10 items-center justify-center rounded-full border text-sm transition ${n?"border-rose-200 bg-rose-500/10 text-rose-500":"border-white/70 bg-white/70 text-slate-600 hover:border-rose-200 hover:text-rose-500"} ${C?"opacity-60":""}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:n?"currentColor":"none",stroke:"currentColor",strokeWidth:1.5,className:"h-5 w-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 5.053 7.5 10.5 9 10.5s9-5.447 9-10.5z"})})});return j==="list"?e.jsxs("article",{className:"group relative flex gap-6 rounded-3xl border border-slate-200 bg-white p-4 shadow-sm transition hover:-translate-y-1 hover:shadow-xl",children:[e.jsx(W,{href:h,className:"block w-48 flex-shrink-0 overflow-hidden rounded-2xl",children:e.jsx("div",{className:"relative h-48 w-full overflow-hidden rounded-2xl bg-slate-100",children:o?e.jsx("img",{src:o,alt:l.name,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-slate-500",children:"No image"})})}),e.jsxs("div",{className:"flex flex-1 flex-col justify-between",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{href:h,className:"text-lg font-semibold text-slate-900 transition hover:text-feather-gold",children:l.name}),e.jsxs("p",{className:"text-sm text-slate-500",children:["SKU ",l.sku]}),e.jsx("p",{className:"text-sm text-slate-600",children:l.brand??"Elvee Atelier"}),e.jsx("p",{className:"text-sm text-slate-600",children:I.format(l.price_total)}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500",children:[e.jsx("span",{children:l.material??"Custom material"}),F.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:F.join(" • ")})]})]}),l.is_jobwork_allowed&&e.jsx("p",{className:"text-xs font-medium text-emerald-600",children:"Available for jobwork"})]}),S]}),e.jsx("div",{className:"flex items-center justify-between",children:A&&e.jsx("span",{className:"rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-sm font-medium text-emerald-700",children:"Jobwork available"})})]})]}):e.jsxs("article",{className:"group relative overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-lg transition hover:-translate-y-1 hover:shadow-2xl",children:[e.jsx("div",{className:"absolute right-5 top-5 z-20",children:S}),e.jsx(W,{href:h,className:"block",children:e.jsx("div",{className:"relative h-56 w-full overflow-hidden rounded-t-3xl bg-slate-100",children:o?e.jsx("img",{src:o,alt:l.name,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-slate-500",children:"No image"})})}),e.jsxs("div",{className:"space-y-3 p-6",children:[e.jsx(W,{href:h,className:"text-lg font-semibold text-slate-900 transition hover:text-feather-gold",children:l.name}),e.jsxs("p",{className:"text-sm text-slate-500",children:["SKU ",l.sku]}),l.catalogs&&l.catalogs.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:l.catalogs.slice(0,2).map(f=>e.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-500",children:f.name},f.id))}),e.jsxs("div",{className:"rounded-2xl bg-slate-50 p-4 text-sm text-slate-600",children:[e.jsx("div",{className:"flex flex-col gap-1",children:e.jsx("span",{children:I.format(l.price_total)})}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs text-slate-500",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Material"}),e.jsx("p",{children:l.material??"Custom blend"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Gold weight"}),e.jsx("p",{children:L(l.gold_weight)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Silver weight"}),e.jsx("p",{children:L(l.silver_weight)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Other weight"}),e.jsx("p",{children:L(l.other_material_weight)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Total weight"}),e.jsx("p",{children:L(l.total_weight)})]})]}),l.is_jobwork_allowed&&e.jsx("p",{className:"mt-3 text-xs font-medium text-emerald-600",children:"Available for jobwork"})]}),A&&e.jsx("span",{className:"inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-4 py-1 text-xs font-semibold text-emerald-700",children:"Jobwork available"})]})]})}export{he as default};
