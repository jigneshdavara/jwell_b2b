import{u as ae,r as d,b as A,j as e,H as le,L as W}from"./app-xiOEIreu.js";import{A as re}from"./AuthenticatedLayout-jfKbel75.js";import"./ApplicationLogo-Dg1h9LTV.js";import"./FlashMessage-CKFpXUfl.js";const y={brand:"Brand",metal:"Metal",metal_purity:"Metal purity",metal_tone:"Metal tone",search:"Search",category:"Category",catalog:"Catalog",price_min:"Min price",price_max:"Max price",jobwork_available:"Available for jobwork",ready_made:"Ready made jewelry"},f=0,v=5e5,$=1e3,I=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0});function ue(){const n=ae(),{mode:m,filters:o,products:w,facets:c}=n.props,L=n.props.wishlist?.product_ids??[],g=d.useMemo(()=>new Set(L),[L]),[B,C]=d.useState(null),[_,z]=d.useState("grid"),[P,k]=d.useState(o.sort??"newest"),[F,O]=d.useState(w.data),[E,D]=d.useState(w.next_page_url),[p,u]=d.useState(!1),[h,N]=d.useState(!1),H=d.useRef([]),Y=d.useRef(null),[x,S]=d.useState({categories:!1,catalogs:!0,brands:!0,metals:!1,metalPurities:!0,metalTones:!0,diamond:!0,price:!1}),a=d.useMemo(()=>{const t=i=>i?Array.isArray(i)?i.map(String):[String(i)]:[],s=i=>{if(typeof i!="string")return;const l=i.trim();return l===""?void 0:l};return{brand:t(o.brand),search:s(Array.isArray(o.search)?o.search[0]:o.search),metal:t(o.metal),metal_purity:t(o.metal_purity),metal_tone:t(o.metal_tone),diamond:t(o.diamond),price_min:s(o.price_min),price_max:s(o.price_max),category:t(o.category),catalog:t(o.catalog),sort:s(o.sort),jobwork_available:s(o.jobwork_available),ready_made:s(o.ready_made)}},[o]),[G,J]=d.useState(a.search??""),[q,U]=d.useState(()=>({min:a.price_min?Number(a.price_min):f,max:a.price_max?Number(a.price_max):v}));d.useEffect(()=>{U({min:a.price_min?Number(a.price_min):f,max:a.price_max?Number(a.price_max):v})},[a.price_min,a.price_max]),d.useEffect(()=>{k(o.sort??"newest")},[o.sort]),d.useEffect(()=>{p?(O(t=>[...H.current,...w.data]),u(!1)):(O(w.data),H.current=[],typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})),D(w.next_page_url),N(!1)},[w.data,w.next_page_url]),d.useEffect(()=>{const t=Y.current;if(!t||!E)return;const s=new IntersectionObserver(i=>{const[l]=i;l.isIntersecting&&!h&&E&&(H.current=F,u(!0),N(!0),A.get(E,{},{preserveScroll:!0,preserveState:!0,replace:!1,only:["products"],onError:()=>{u(!1),N(!1)}}))},{rootMargin:"200px"});return s.observe(t),()=>s.disconnect()},[E,h,F]);const R=(t,s)=>{A.get(route("frontend.catalog.index"),{...o,price_min:t>f?String(t):void 0,price_max:s<v?String(s):void 0,mode:m,page:void 0},{preserveScroll:!0,preserveState:!0})},Q=()=>{U({min:f,max:v}),A.get(route("frontend.catalog.index"),{...o,price_min:void 0,price_max:void 0,mode:m,page:void 0},{preserveScroll:!0,preserveState:!0})},V=n.props.navigation??{},M=d.useMemo(()=>{const t=new Map;return c.metals.forEach(s=>t.set(`metal:${s.id}`,s.name)),c.metalPurities.forEach(s=>t.set(`metal_purity:${s.id}`,s.name)),c.metalTones.forEach(s=>t.set(`metal_tone:${s.id}`,s.name)),c.diamondOptions.shapes.forEach(s=>t.set(`diamond:shape:${s.id}`,s.name)),c.diamondOptions.colors.forEach(s=>t.set(`diamond:color:${s.id}`,s.name)),c.diamondOptions.clarities.forEach(s=>t.set(`diamond:clarity:${s.id}`,s.name)),c.brands.forEach(s=>t.set(`brand:${s}`,s)),c.categories.forEach(s=>{t.set(`category:${s.slug??s.id}`,s.name)}),c.catalogs.forEach(s=>{t.set(`catalog:${s.id}`,s.name)}),(V.categories??[]).forEach(s=>{t.set(`category:${s.slug??s.id}`,s.name)}),(V.catalogs??[]).forEach(s=>{t.set(`catalog:${s.slug??s.id}`,s.name)}),t},[c,V]),b=(t,s)=>{A.get(route("frontend.catalog.index"),{...o,[t]:s??void 0,mode:m,page:void 0},{preserveScroll:!0,preserveState:!0})},ee=()=>{A.get(route("frontend.catalog.index"),{mode:m})},te=t=>{t.preventDefault(),b("search",G.trim()||void 0)},se=(t,s)=>{B!==t&&(C(t),g.has(t)?A.delete(route("frontend.wishlist.items.destroy-by-product",t),{data:{product_variant_id:s??void 0},preserveScroll:!0,onFinish:()=>C(null)}):A.post(route("frontend.wishlist.items.store"),{product_id:t,product_variant_id:s??void 0},{preserveScroll:!0,onFinish:()=>C(null)}))},X=d.useMemo(()=>{const t=[];return a.brand.forEach(s=>{t.push({key:"brand",value:s,label:y.brand,valueLabel:M.get(`brand:${s}`)??s})}),a.metal.forEach(s=>{t.push({key:"metal",value:s,label:y.metal,valueLabel:M.get(`metal:${s}`)??s})}),a.metal_purity.forEach(s=>{t.push({key:"metal_purity",value:s,label:y.metal_purity,valueLabel:M.get(`metal_purity:${s}`)??s})}),a.metal_tone.forEach(s=>{t.push({key:"metal_tone",value:s,label:y.metal_tone,valueLabel:M.get(`metal_tone:${s}`)??s})}),a.search&&t.push({key:"search",value:a.search,label:y.search,valueLabel:a.search}),a.category.forEach(s=>{t.push({key:"category",value:s,label:y.category,valueLabel:M.get(`category:${s}`)??s})}),a.catalog.forEach(s=>{t.push({key:"catalog",value:s,label:y.catalog,valueLabel:M.get(`catalog:${s}`)??s})}),a.diamond.forEach(s=>{const[i,l]=s.includes(":")?s.split(":"):[null,s],r=i?`diamond:${i}:${l}`:null;t.push({key:"diamond",value:s,label:"Diamond",valueLabel:r?M.get(r)??s:s})}),a.price_min&&t.push({key:"price_min",value:a.price_min,label:y.price_min,valueLabel:I.format(Number(a.price_min))}),a.price_max&&t.push({key:"price_max",value:a.price_max,label:y.price_max,valueLabel:I.format(Number(a.price_max))}),a.jobwork_available==="1"&&t.push({key:"jobwork_available",value:"1",label:y.jobwork_available,valueLabel:"Yes"}),a.ready_made==="1"&&t.push({key:"ready_made",value:"1",label:y.ready_made,valueLabel:"Yes"}),t},[a,M]);return e.jsxs(re,{children:[e.jsx(le,{title:"Catalogue"}),e.jsxs("div",{className:"space-y-4",id:"catalog",children:[e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:m==="jobwork"?"Jobwork-ready Designs":"Showcase Collection"}),e.jsxs("form",{onSubmit:te,className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx("input",{type:"search",value:G,onChange:t=>J(t.target.value),placeholder:"Search SKU or design",className:"w-full rounded-xl border border-slate-300 bg-white/80 px-3 py-1.5 text-sm text-slate-700 shadow-inner focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20"}),a.search&&e.jsx("button",{type:"button",onClick:()=>{J(""),b("search")},className:"absolute inset-y-0 right-2 flex items-center text-xs font-medium text-slate-400 hover:text-slate-600",children:"Clear"})]}),e.jsx("button",{type:"submit",className:"rounded-xl bg-elvee-blue px-3 py-1.5 text-sm font-semibold text-white shadow-elvee-blue/30 transition hover:bg-navy",children:"Search"}),e.jsx("button",{type:"button",onClick:ee,className:"rounded-xl border border-slate-300 px-3 py-1.5 text-sm font-medium text-slate-600 hover:border-slate-400 hover:text-slate-800",children:"Reset"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl bg-white p-3 shadow-sm ring-1 ring-slate-200/70",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>z("grid"),className:`inline-flex h-9 w-9 items-center justify-center rounded-full transition ${_==="grid"?"bg-slate-900 text-white shadow-lg shadow-slate-900/20":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,"aria-label":"Grid view",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,className:"h-4 w-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25A2.25 2.25 0 018 10.5H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})})}),e.jsx("button",{type:"button",onClick:()=>z("list"),className:`inline-flex h-9 w-9 items-center justify-center rounded-full transition ${_==="list"?"bg-slate-900 text-white shadow-lg shadow-slate-900/20":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,"aria-label":"List view",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,className:"h-4 w-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx("label",{htmlFor:"catalog-sort",className:"font-medium",children:"Sort by"}),e.jsxs("select",{id:"catalog-sort",value:P,onChange:t=>{const s=t.target.value;k(s),b("sort",s==="newest"?void 0:s)},className:"rounded-2xl border border-slate-200 px-3 py-2 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20",children:[e.jsx("option",{value:"newest",children:"Newest arrivals"}),e.jsx("option",{value:"price_asc",children:"Price: Low to high"}),e.jsx("option",{value:"price_desc",children:"Price: High to low"}),e.jsx("option",{value:"name_asc",children:"Name: A to Z"})]})]})]}),X.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:X.map(({key:t,label:s,valueLabel:i,value:l})=>e.jsxs("button",{onClick:()=>{if(t==="brand"||t==="metal"||t==="metal_purity"||t==="metal_tone"||t==="category"||t==="catalog"||t==="diamond"){const j=(Array.isArray(a[t])?a[t]:[]).filter(K=>K!==l);b(t,j.length?j:void 0);return}if(t==="price_min"){R(f,a.price_max?Number(a.price_max):v);return}if(t==="price_max"){R(a.price_min?Number(a.price_min):f,v);return}if(t==="jobwork_available"||t==="ready_made"){b(t,void 0);return}b(t)},className:"inline-flex items-center gap-1 rounded-full bg-slate-200 px-2.5 py-0.5 text-slate-700 hover:bg-slate-300",children:[s,": ",e.jsx("span",{className:"font-semibold",children:i}),e.jsx("span",{"aria-hidden":!0,children:"×"})]},`${t}-${i}`))}),e.jsxs("div",{className:"grid gap-4 rounded-2xl bg-white p-4 shadow-xl ring-1 ring-slate-200/70 lg:grid-cols-5",children:[e.jsxs("aside",{className:"space-y-3 lg:col-span-1",children:[e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>S(t=>({...t,categories:!t.categories})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Categories"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${x.categories?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!x.categories&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:c.categories.map(t=>{const s=t.slug??String(t.id),i=a.category.includes(s);return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${i?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:i,onChange:l=>{const r=[...a.category];if(l.target.checked)r.includes(s)||r.push(s);else{const j=r.indexOf(s);j>=0&&r.splice(j,1)}b("category",r.length?r:void 0)}}),e.jsx("span",{children:t.name})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>S(t=>({...t,catalogs:!t.catalogs})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Catalogs"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${x.catalogs?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!x.catalogs&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:c.catalogs.map(t=>{const s=String(t.id),i=a.catalog.includes(s);return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${i?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:i,onChange:l=>{const r=[...a.catalog];if(l.target.checked)r.includes(s)||r.push(s);else{const j=r.indexOf(s);j>=0&&r.splice(j,1)}b("catalog",r.length?r:void 0)}}),e.jsx("span",{children:t.name})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>S(t=>({...t,brands:!t.brands})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Brands"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${x.brands?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!x.brands&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:c.brands.map(t=>{const s=a.brand.includes(t);return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:i=>{const l=[...a.brand];if(i.target.checked)l.includes(t)||l.push(t);else{const r=l.indexOf(t);r>=0&&l.splice(r,1)}b("brand",l.length?l:void 0)}}),e.jsx("span",{children:t})]},t)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>S(t=>({...t,metals:!t.metals})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Metals"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${x.metals?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!x.metals&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:c.metals.map(t=>{const s=a.metal.includes(String(t.id));return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:i=>{const l=[...a.metal];if(i.target.checked)l.push(String(t.id));else{const r=l.indexOf(String(t.id));r>=0&&l.splice(r,1)}b("metal",l.length?l:void 0)}}),e.jsx("span",{children:t.name})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>S(t=>({...t,metalPurities:!t.metalPurities})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Metal purities"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${x.metalPurities?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!x.metalPurities&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:c.metalPurities.map(t=>{const s=a.metal_purity.includes(String(t.id));return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:i=>{const l=[...a.metal_purity];if(i.target.checked)l.push(String(t.id));else{const r=l.indexOf(String(t.id));r>=0&&l.splice(r,1)}b("metal_purity",l.length?l:void 0)}}),e.jsxs("span",{children:[t.name," ",t.metal?`(${t.metal.name})`:""]})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>S(t=>({...t,metalTones:!t.metalTones})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Metal tones"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${x.metalTones?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!x.metalTones&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:c.metalTones.map(t=>{const s=a.metal_tone.includes(String(t.id));return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:i=>{const l=[...a.metal_tone];if(i.target.checked)l.push(String(t.id));else{const r=l.indexOf(String(t.id));r>=0&&l.splice(r,1)}b("metal_tone",l.length?l:void 0)}}),e.jsxs("span",{children:[t.name," ",t.metal?`(${t.metal.name})`:""]})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>S(t=>({...t,diamond:!t.diamond})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Diamond"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${x.diamond?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!x.diamond&&e.jsx("div",{className:"mt-3 space-y-4 text-sm",children:[{title:"Shapes",kind:"shape",options:c.diamondOptions.shapes},{title:"Colors",kind:"color",options:c.diamondOptions.colors},{title:"Clarities",kind:"clarity",options:c.diamondOptions.clarities}].map(({title:t,kind:s,options:i})=>e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:t}),e.jsx("div",{className:"mt-2 space-y-1.5",children:i.map(l=>{const r=`${s}:${l.id}`,j=a.diamond.includes(r);return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${j?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:j,onChange:K=>{const T=[...a.diamond];if(K.target.checked)T.includes(r)||T.push(r);else{const Z=T.indexOf(r);Z>=0&&T.splice(Z,1)}b("diamond",T.length?T:void 0)}}),e.jsx("span",{children:l.name})]},r)})})]},s))})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>S(t=>({...t,price:!t.price})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Price range (₹)"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${x.price?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!x.price&&e.jsx(ne,{applyPriceRange:R,resetPriceRange:Q,priceRange:q,setPriceRange:U})]})]}),e.jsxs("section",{className:"lg:col-span-4",children:[F.length===0?e.jsx("div",{className:"rounded-2xl border border-dashed border-slate-300 p-6 text-center text-sm text-slate-500",children:"No products match your filters. Try broadening your search or reset filters."}):e.jsx("div",{className:_==="grid"?"grid gap-4 sm:grid-cols-2 xl:grid-cols-3":"flex flex-col gap-3",children:F.map(t=>{const s=route("frontend.catalog.show",{product:t.id,mode:m}),i=t.thumbnail??t.media?.[0]?.url??null,l=t.variants.find(j=>j.is_default)??t.variants[0]??null,r=g.has(t.id);return e.jsx(ie,{product:t,productLink:s,imageUrl:i,defaultVariant:l,isWishlisted:r,wishlistBusyId:B,viewMode:_,mode:m,toggleWishlist:se},t.id)})}),e.jsx("div",{ref:Y,className:"mt-10 flex justify-center",children:h&&e.jsx("span",{className:"rounded-full bg-slate-100 px-4 py-2 text-sm font-medium text-slate-600",children:"Loading more products…"})})]})]})]})]})}function ne({priceRange:n,setPriceRange:m,applyPriceRange:o,resetPriceRange:w}){const c=(p,u,h)=>Math.min(Math.max(p,u),h),[L,g]=d.useState(null),B=d.useRef(null),C=p=>(p-f)/(v-f)*100,_=p=>{const u=Number(p.target.value);Number.isNaN(u)||m(h=>{const N=c(u,f,h.max-$);return{...h,min:N}})},z=p=>{const u=Number(p.target.value);Number.isNaN(u)||m(h=>{const N=c(u,h.min+$,v);return{...h,max:N}})},P=p=>{const u=p.target.value===""?f:Number(p.target.value);Number.isNaN(u)||m(h=>{const N=c(u,f,h.max-$);return{...h,min:N}})},k=p=>{const u=p.target.value===""?v:Number(p.target.value);Number.isNaN(u)||m(h=>{const N=c(u,h.min+$,v);return{...h,max:N}})},F=()=>o(n.min,n.max),O=()=>w(),E=C(n.min),D=C(n.max);return e.jsxs("div",{className:"mt-3 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs font-medium text-slate-500",children:[e.jsx("span",{children:I.format(n.min)}),e.jsx("span",{children:I.format(n.max)})]}),e.jsxs("div",{className:"relative",ref:B,children:[e.jsx("div",{className:"relative h-2 w-full rounded-full bg-slate-200",children:e.jsx("div",{className:"absolute h-2 rounded-full bg-feather-gold",style:{left:`${E}%`,width:`${D-E}%`}})}),e.jsx("input",{type:"range",min:f,max:v,step:$,value:n.min,onChange:_,onMouseDown:()=>g("min"),onMouseUp:()=>g(null),onTouchStart:()=>g("min"),onTouchEnd:()=>g(null),className:"absolute top-0 h-2 w-full cursor-pointer appearance-none bg-transparent [&::-webkit-slider-thumb]:relative [&::-webkit-slider-thumb]:z-10 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-feather-gold [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:hover:scale-110 [&::-webkit-slider-thumb]:hover:bg-warm-gold [&::-moz-range-thumb]:relative [&::-moz-range-thumb]:z-10 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-feather-gold [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg [&::-moz-range-thumb]:transition-all [&::-moz-range-thumb]:hover:scale-110 [&::-moz-range-thumb]:hover:bg-warm-gold",style:{zIndex:L==="min"?20:10}}),e.jsx("input",{type:"range",min:f,max:v,step:$,value:n.max,onChange:z,onMouseDown:()=>g("max"),onMouseUp:()=>g(null),onTouchStart:()=>g("max"),onTouchEnd:()=>g(null),className:"absolute top-0 h-2 w-full cursor-pointer appearance-none bg-transparent [&::-webkit-slider-thumb]:relative [&::-webkit-slider-thumb]:z-10 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-feather-gold [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:hover:scale-110 [&::-webkit-slider-thumb]:hover:bg-warm-gold [&::-moz-range-thumb]:relative [&::-moz-range-thumb]:z-10 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-feather-gold [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg [&::-moz-range-thumb]:transition-all [&::-moz-range-thumb]:hover:scale-110 [&::-moz-range-thumb]:hover:bg-warm-gold",style:{zIndex:L==="max"?20:10}})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",htmlFor:"price-min",children:"Min"}),e.jsx("input",{id:"price-min",type:"number",value:n.min,onChange:P,min:f,max:n.max,step:$,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-1.5 text-sm text-slate-700 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",htmlFor:"price-max",children:"Max"}),e.jsx("input",{id:"price-max",type:"number",value:n.max,onChange:k,min:n.min,max:v,step:$,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-1.5 text-sm text-slate-700 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:F,className:"flex-1 rounded-lg bg-elvee-blue px-4 py-2 text-sm font-semibold text-white shadow-elvee-blue/30 transition hover:bg-navy",children:"Apply"}),e.jsx("button",{type:"button",onClick:O,className:"flex-1 rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900",children:"Reset"})]})]})}function ie({product:n,productLink:m,imageUrl:o,defaultVariant:w,isWishlisted:c,wishlistBusyId:L,viewMode:g,mode:B,toggleWishlist:C}){const _=L===n.id,z=[],P=e.jsx("button",{type:"button",onClick:k=>{k.preventDefault(),k.stopPropagation(),C(n.id,w?.id??null)},disabled:_,"aria-pressed":c,className:`inline-flex h-10 w-10 items-center justify-center rounded-full border text-sm transition ${c?"border-rose-200 bg-rose-500/10 text-rose-500":"border-white/70 bg-white/70 text-slate-600 hover:border-rose-200 hover:text-rose-500"} ${_?"opacity-60":""}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:c?"currentColor":"none",stroke:"currentColor",strokeWidth:1.5,className:"h-5 w-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 5.053 7.5 10.5 9 10.5s9-5.447 9-10.5z"})})});return g==="list"?e.jsxs("article",{className:"group relative flex gap-6 rounded-3xl border border-slate-200 bg-white p-4 shadow-sm transition hover:-translate-y-1 hover:shadow-xl",children:[e.jsx(W,{href:m,className:"block w-48 flex-shrink-0 overflow-hidden rounded-2xl",children:e.jsx("div",{className:"relative h-48 w-full overflow-hidden rounded-2xl bg-slate-100",children:o?e.jsx("img",{src:o,alt:n.name,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-slate-500",children:"No image"})})}),e.jsxs("div",{className:"flex flex-1 flex-col justify-between",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{href:m,className:"text-lg font-semibold text-slate-900 transition hover:text-feather-gold",children:n.name}),e.jsxs("p",{className:"text-sm text-slate-500",children:["SKU ",n.sku]}),e.jsx("p",{className:"text-sm text-slate-600",children:n.brand??"Elvee Atelier"}),e.jsx("p",{className:"text-sm text-slate-600",children:I.format(n.price_total)}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500",children:[e.jsx("span",{children:n.material??"Custom material"}),z.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:z.join(" • ")})]})]})]}),P]}),e.jsx("div",{className:"flex items-center justify-between"})]})]}):e.jsxs("article",{className:"group relative overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-lg transition hover:-translate-y-1 hover:shadow-2xl",children:[e.jsx("div",{className:"absolute right-5 top-5 z-20",children:P}),e.jsx(W,{href:m,className:"block",children:e.jsx("div",{className:"relative h-56 w-full overflow-hidden rounded-t-3xl bg-slate-100",children:o?e.jsx("img",{src:o,alt:n.name,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-slate-500",children:"No image"})})}),e.jsxs("div",{className:"space-y-3 p-6",children:[e.jsx(W,{href:m,className:"text-lg font-semibold text-slate-900 transition hover:text-feather-gold",children:n.name}),e.jsxs("p",{className:"text-sm text-slate-500",children:["SKU ",n.sku]}),n.catalogs&&n.catalogs.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:n.catalogs.slice(0,2).map(k=>e.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-500",children:k.name},k.id))}),e.jsxs("div",{className:"rounded-2xl bg-slate-50 p-4 text-sm text-slate-600",children:[e.jsx("div",{className:"flex flex-col gap-1",children:e.jsx("span",{children:I.format(n.price_total)})}),e.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs text-slate-500",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Material"}),e.jsx("p",{children:n.material??"Custom blend"})]})})]})]})]})}export{ue as default};
