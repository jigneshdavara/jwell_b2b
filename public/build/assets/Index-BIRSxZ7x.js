import{u as ae,r as c,b as O,j as e,H as le,L as W}from"./app-DmgoPzXj.js";import{A as re}from"./AuthenticatedLayout-6IJBOoa7.js";import"./ApplicationLogo-C88RYckP.js";import"./FlashMessage-BlTNOjrm.js";const _={brand:"Brand",gold_purity:"Gold purity",silver_purity:"Silver purity",search:"Search",category:"Category",catalog:"Catalog",price_min:"Min price",price_max:"Max price",jobwork_available:"Available for jobwork",ready_made:"Ready made jewelry"},f=0,j=5e5,z=1e3,E=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0});function xe(){const a=ae(),{mode:m,filters:o,products:w,facets:i}=a.props,A=a.props.wishlist?.product_ids??[],v=c.useMemo(()=>new Set(A),[A]),[I,$]=c.useState(null),[C,P]=c.useState("grid"),[M,F]=c.useState(o.sort??"newest"),[S,b]=c.useState(w.data),[B,D]=c.useState(w.next_page_url),[g,x]=c.useState(!1),[h,y]=c.useState(!1),H=c.useRef([]),J=c.useRef(null),[u,L]=c.useState({categories:!1,catalogs:!0,brands:!0,goldPurities:!1,silverPurities:!0,diamond:!0,price:!1,availability:!1}),l=c.useMemo(()=>{const t=n=>n?Array.isArray(n)?n.map(String):[String(n)]:[],s=n=>{if(typeof n!="string")return;const r=n.trim();return r===""?void 0:r};return{brand:t(o.brand),search:s(o.search),gold_purity:t(o.gold_purity),silver_purity:t(o.silver_purity),diamond:t(o.diamond),price_min:s(o.price_min),price_max:s(o.price_max),category:t(o.category),catalog:s(o.catalog),sort:s(o.sort),jobwork_available:s(o.jobwork_available),ready_made:s(o.ready_made)}},[o]),[K,Y]=c.useState(l.search??""),[q,R]=c.useState(()=>({min:l.price_min?Number(l.price_min):f,max:l.price_max?Number(l.price_max):j}));c.useEffect(()=>{R({min:l.price_min?Number(l.price_min):f,max:l.price_max?Number(l.price_max):j})},[l.price_min,l.price_max]),c.useEffect(()=>{F(o.sort??"newest")},[o.sort]),c.useEffect(()=>{g?(b(t=>[...H.current,...w.data]),x(!1)):(b(w.data),H.current=[],typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})),D(w.next_page_url),y(!1)},[w.data,w.next_page_url]),c.useEffect(()=>{const t=J.current;if(!t||!B)return;const s=new IntersectionObserver(n=>{const[r]=n;r.isIntersecting&&!h&&B&&(H.current=S,x(!0),y(!0),O.get(B,{},{preserveScroll:!0,preserveState:!0,replace:!1,only:["products"],onError:()=>{x(!1),y(!1)}}))},{rootMargin:"200px"});return s.observe(t),()=>s.disconnect()},[B,h,S]);const U=(t,s)=>{O.get(route("frontend.catalog.index"),{...o,price_min:t>f?String(t):void 0,price_max:s<j?String(s):void 0,mode:m,page:void 0},{preserveScroll:!0,preserveState:!0})},Q=()=>{R({min:f,max:j}),O.get(route("frontend.catalog.index"),{...o,price_min:void 0,price_max:void 0,mode:m,page:void 0},{preserveScroll:!0,preserveState:!0})},V=a.props.navigation??{},N=c.useMemo(()=>{const t=new Map;return i.goldPurities.forEach(s=>t.set(`gold_purity:${s.id}`,s.name)),i.silverPurities.forEach(s=>t.set(`silver_purity:${s.id}`,s.name)),i.diamondOptions.types.forEach(s=>t.set(`diamond:type:${s.id}`,s.name)),i.diamondOptions.shapes.forEach(s=>t.set(`diamond:shape:${s.id}`,s.name)),i.diamondOptions.colors.forEach(s=>t.set(`diamond:color:${s.id}`,s.name)),i.diamondOptions.clarities.forEach(s=>t.set(`diamond:clarity:${s.id}`,s.name)),i.diamondOptions.cuts.forEach(s=>t.set(`diamond:cut:${s.id}`,s.name)),i.brands.forEach(s=>t.set(`brand:${s}`,s)),i.categories.forEach(s=>{t.set(`category:${s.slug??s.id}`,s.name)}),i.catalogs.forEach(s=>{t.set(`catalog:${s.slug??s.id}`,s.name)}),(V.categories??[]).forEach(s=>{t.set(`category:${s.slug??s.id}`,s.name)}),(V.catalogs??[]).forEach(s=>{t.set(`catalog:${s.slug??s.id}`,s.name)}),t},[i,V]),p=(t,s)=>{O.get(route("frontend.catalog.index"),{...o,[t]:s??void 0,mode:m,page:void 0},{preserveScroll:!0,preserveState:!0})},ee=()=>{O.get(route("frontend.catalog.index"),{mode:m})},te=t=>{t.preventDefault(),p("search",K.trim()||void 0)},se=(t,s)=>{I!==t&&($(t),v.has(t)?O.delete(route("frontend.wishlist.items.destroy-by-product",t),{data:{product_variant_id:s??void 0},preserveScroll:!0,onFinish:()=>$(null)}):O.post(route("frontend.wishlist.items.store"),{product_id:t,product_variant_id:s??void 0},{preserveScroll:!0,onFinish:()=>$(null)}))},X=c.useMemo(()=>{const t=[];return l.brand.forEach(s=>{t.push({key:"brand",value:s,label:_.brand,valueLabel:N.get(`brand:${s}`)??s})}),l.gold_purity.forEach(s=>{t.push({key:"gold_purity",value:s,label:_.gold_purity,valueLabel:N.get(`gold_purity:${s}`)??s})}),l.silver_purity.forEach(s=>{t.push({key:"silver_purity",value:s,label:_.silver_purity,valueLabel:N.get(`silver_purity:${s}`)??s})}),l.search&&t.push({key:"search",value:l.search,label:_.search,valueLabel:l.search}),l.category.forEach(s=>{t.push({key:"category",value:s,label:_.category,valueLabel:N.get(`category:${s}`)??s})}),l.catalog&&t.push({key:"catalog",value:l.catalog,label:_.catalog,valueLabel:N.get(`catalog:${l.catalog}`)??l.catalog}),l.diamond.forEach(s=>{t.push({key:"diamond",value:s,label:"Diamond",valueLabel:N.get(`diamond:type:${s}`)??N.get(`diamond:shape:${s}`)??N.get(`diamond:color:${s}`)??N.get(`diamond:clarity:${s}`)??N.get(`diamond:cut:${s}`)??s})}),l.price_min&&t.push({key:"price_min",value:l.price_min,label:_.price_min,valueLabel:E.format(Number(l.price_min))}),l.price_max&&t.push({key:"price_max",value:l.price_max,label:_.price_max,valueLabel:E.format(Number(l.price_max))}),l.jobwork_available==="1"&&t.push({key:"jobwork_available",value:"1",label:_.jobwork_available,valueLabel:"Yes"}),l.ready_made==="1"&&t.push({key:"ready_made",value:"1",label:_.ready_made,valueLabel:"Yes"}),t},[l,N]);return e.jsxs(re,{children:[e.jsx(le,{title:"Catalogue"}),e.jsxs("div",{className:"space-y-4",id:"catalog",children:[e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:m==="jobwork"?"Jobwork-ready Designs":"Showcase Collection"}),e.jsxs("form",{onSubmit:te,className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx("input",{type:"search",value:K,onChange:t=>Y(t.target.value),placeholder:"Search SKU or design",className:"w-full rounded-xl border border-slate-300 bg-white/80 px-3 py-1.5 text-sm text-slate-700 shadow-inner focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20"}),l.search&&e.jsx("button",{type:"button",onClick:()=>{Y(""),p("search")},className:"absolute inset-y-0 right-2 flex items-center text-xs font-medium text-slate-400 hover:text-slate-600",children:"Clear"})]}),e.jsx("button",{type:"submit",className:"rounded-xl bg-elvee-blue px-3 py-1.5 text-sm font-semibold text-white shadow-elvee-blue/30 transition hover:bg-navy",children:"Search"}),e.jsx("button",{type:"button",onClick:ee,className:"rounded-xl border border-slate-300 px-3 py-1.5 text-sm font-medium text-slate-600 hover:border-slate-400 hover:text-slate-800",children:"Reset"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl bg-white p-3 shadow-sm ring-1 ring-slate-200/70",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>P("grid"),className:`inline-flex h-9 w-9 items-center justify-center rounded-full transition ${C==="grid"?"bg-slate-900 text-white shadow-lg shadow-slate-900/20":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,"aria-label":"Grid view",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,className:"h-4 w-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25A2.25 2.25 0 018 10.5H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})})}),e.jsx("button",{type:"button",onClick:()=>P("list"),className:`inline-flex h-9 w-9 items-center justify-center rounded-full transition ${C==="list"?"bg-slate-900 text-white shadow-lg shadow-slate-900/20":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,"aria-label":"List view",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,className:"h-4 w-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx("label",{htmlFor:"catalog-sort",className:"font-medium",children:"Sort by"}),e.jsxs("select",{id:"catalog-sort",value:M,onChange:t=>{const s=t.target.value;F(s),p("sort",s==="newest"?void 0:s)},className:"rounded-2xl border border-slate-200 px-3 py-2 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20",children:[e.jsx("option",{value:"newest",children:"Newest arrivals"}),e.jsx("option",{value:"price_asc",children:"Price: Low to high"}),e.jsx("option",{value:"price_desc",children:"Price: High to low"}),e.jsx("option",{value:"name_asc",children:"Name: A to Z"})]})]})]}),X.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:X.map(({key:t,label:s,valueLabel:n,value:r})=>e.jsxs("button",{onClick:()=>{if(t==="brand"||t==="gold_purity"||t==="silver_purity"||t==="category"||t==="diamond"){const k=(Array.isArray(l[t])?l[t]:[]).filter(G=>G!==r);p(t,k.length?k:void 0);return}if(t==="price_min"){U(f,l.price_max?Number(l.price_max):j);return}if(t==="price_max"){U(l.price_min?Number(l.price_min):f,j);return}if(t==="jobwork_available"||t==="ready_made"){p(t,void 0);return}p(t)},className:"inline-flex items-center gap-1 rounded-full bg-slate-200 px-2.5 py-0.5 text-slate-700 hover:bg-slate-300",children:[s,": ",e.jsx("span",{className:"font-semibold",children:n}),e.jsx("span",{"aria-hidden":!0,children:"×"})]},`${t}-${n}`))}),e.jsxs("div",{className:"grid gap-4 rounded-2xl bg-white p-4 shadow-xl ring-1 ring-slate-200/70 lg:grid-cols-5",children:[e.jsxs("aside",{className:"space-y-3 lg:col-span-1",children:[e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>L(t=>({...t,categories:!t.categories})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Categories"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${u.categories?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!u.categories&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:i.categories.map(t=>{const s=t.slug??String(t.id),n=l.category.includes(s);return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${n?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:n,onChange:r=>{const d=[...l.category];if(r.target.checked)d.includes(s)||d.push(s);else{const k=d.indexOf(s);k>=0&&d.splice(k,1)}p("category",d.length?d:void 0)}}),e.jsx("span",{children:t.name})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>L(t=>({...t,availability:!t.availability})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Availability"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${u.availability?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!u.availability&&e.jsxs("div",{className:"mt-3 space-y-1.5 text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2.5 py-1.5 text-sm transition text-slate-600",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:l.jobwork_available==="1",onChange:t=>{p("jobwork_available",t.target.checked?"1":void 0)}}),e.jsx("span",{children:"Available for jobwork"})]}),e.jsxs("label",{className:"flex items-center gap-2.5 py-1.5 text-sm transition text-slate-600",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:l.ready_made==="1",onChange:t=>{p("ready_made",t.target.checked?"1":void 0)}}),e.jsx("span",{children:"Ready made jewelry"})]})]})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>L(t=>({...t,catalogs:!t.catalogs})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Catalogs"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${u.catalogs?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!u.catalogs&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:i.catalogs.map(t=>{const s=t.slug??String(t.id),n=l.catalog===s;return e.jsxs("button",{type:"button",onClick:()=>p("catalog",n?void 0:s),className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-xs font-semibold transition ${n?"bg-slate-900 text-white shadow-sm shadow-slate-800/30":"bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-900"}`,children:[t.name,n&&e.jsx("span",{className:"text-[11px] font-medium text-slate-500",children:"×"})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>L(t=>({...t,brands:!t.brands})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Brands"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${u.brands?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!u.brands&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:i.brands.map(t=>{const s=l.brand.includes(t);return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:n=>{const r=[...l.brand];if(n.target.checked)r.includes(t)||r.push(t);else{const d=r.indexOf(t);d>=0&&r.splice(d,1)}p("brand",r.length?r:void 0)}}),e.jsx("span",{children:t})]},t)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>L(t=>({...t,goldPurities:!t.goldPurities})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Gold purities"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${u.goldPurities?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!u.goldPurities&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:i.goldPurities.map(t=>{const s=l.gold_purity.includes(String(t.id));return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:n=>{const r=[...l.gold_purity];if(n.target.checked)r.push(String(t.id));else{const d=r.indexOf(String(t.id));d>=0&&r.splice(d,1)}p("gold_purity",r.length?r:void 0)}}),e.jsx("span",{children:t.name})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>L(t=>({...t,silverPurities:!t.silverPurities})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Silver purities"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${u.silverPurities?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!u.silverPurities&&e.jsx("div",{className:"mt-3 space-y-1.5 text-sm",children:i.silverPurities.map(t=>{const s=l.silver_purity.includes(String(t.id));return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${s?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:s,onChange:n=>{const r=[...l.silver_purity];if(n.target.checked)r.push(String(t.id));else{const d=r.indexOf(String(t.id));d>=0&&r.splice(d,1)}p("silver_purity",r.length?r:void 0)}}),e.jsx("span",{children:t.name})]},t.id)})})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>L(t=>({...t,diamond:!t.diamond})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Diamond"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${u.diamond?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!u.diamond&&e.jsx("div",{className:"mt-3 space-y-4 text-sm",children:[{title:"Types",kind:"type",options:i.diamondOptions.types},{title:"Shapes",kind:"shape",options:i.diamondOptions.shapes},{title:"Colors",kind:"color",options:i.diamondOptions.colors},{title:"Clarities",kind:"clarity",options:i.diamondOptions.clarities},{title:"Cuts",kind:"cut",options:i.diamondOptions.cuts}].map(({title:t,kind:s,options:n})=>e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-slate-500",children:t}),e.jsx("div",{className:"mt-2 space-y-1.5",children:n.map(r=>{const d=`${s}:${r.id}`,k=l.diamond.includes(d);return e.jsxs("label",{className:`flex items-center gap-2.5 py-1.5 text-sm transition ${k?"text-slate-900":"text-slate-600"}`,children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-elvee-blue focus:ring-feather-gold",checked:k,onChange:G=>{const T=[...l.diamond];if(G.target.checked)T.includes(d)||T.push(d);else{const Z=T.indexOf(d);Z>=0&&T.splice(Z,1)}p("diamond",T.length?T:void 0)}}),e.jsx("span",{children:r.name})]},d)})})]},s))})]}),e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>L(t=>({...t,price:!t.price})),className:"flex w-full items-center justify-between text-sm font-semibold text-slate-800",children:[e.jsx("span",{children:"Price range (₹)"}),e.jsx("svg",{className:`h-4 w-4 transition-transform ${u.price?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}),!u.price&&e.jsx(ie,{applyPriceRange:U,resetPriceRange:Q,priceRange:q,setPriceRange:R})]})]}),e.jsxs("section",{className:"lg:col-span-4",children:[S.length===0?e.jsx("div",{className:"rounded-2xl border border-dashed border-slate-300 p-6 text-center text-sm text-slate-500",children:"No products match your filters. Try broadening your search or reset filters."}):e.jsx("div",{className:C==="grid"?"grid gap-4 sm:grid-cols-2 xl:grid-cols-3":"flex flex-col gap-3",children:S.map(t=>{const s=route("frontend.catalog.show",{product:t.id,mode:m}),n=t.thumbnail??t.media?.[0]?.url??null,r=t.variants.find(k=>k.is_default)??t.variants[0]??null,d=v.has(t.id);return e.jsx(ne,{product:t,productLink:s,imageUrl:n,defaultVariant:r,isWishlisted:d,wishlistBusyId:I,viewMode:C,mode:m,toggleWishlist:se},t.id)})}),e.jsx("div",{ref:J,className:"mt-10 flex justify-center",children:h&&e.jsx("span",{className:"rounded-full bg-slate-100 px-4 py-2 text-sm font-medium text-slate-600",children:"Loading more products…"})})]})]})]})]})}function ie({priceRange:a,setPriceRange:m,applyPriceRange:o,resetPriceRange:w}){const i=(g,x,h)=>Math.min(Math.max(g,x),h),[A,v]=c.useState(null),I=c.useRef(null),$=g=>(g-f)/(j-f)*100,C=g=>{const x=Number(g.target.value);Number.isNaN(x)||m(h=>{const y=i(x,f,h.max-z);return{...h,min:y}})},P=g=>{const x=Number(g.target.value);Number.isNaN(x)||m(h=>{const y=i(x,h.min+z,j);return{...h,max:y}})},M=g=>{const x=g.target.value===""?f:Number(g.target.value);Number.isNaN(x)||m(h=>{const y=i(x,f,h.max-z);return{...h,min:y}})},F=g=>{const x=g.target.value===""?j:Number(g.target.value);Number.isNaN(x)||m(h=>{const y=i(x,h.min+z,j);return{...h,max:y}})},S=()=>o(a.min,a.max),b=()=>w(),B=$(a.min),D=$(a.max);return e.jsxs("div",{className:"mt-3 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs font-medium text-slate-500",children:[e.jsx("span",{children:E.format(a.min)}),e.jsx("span",{children:E.format(a.max)})]}),e.jsxs("div",{className:"relative",ref:I,children:[e.jsx("div",{className:"relative h-2 w-full rounded-full bg-slate-200",children:e.jsx("div",{className:"absolute h-2 rounded-full bg-feather-gold",style:{left:`${B}%`,width:`${D-B}%`}})}),e.jsx("input",{type:"range",min:f,max:j,step:z,value:a.min,onChange:C,onMouseDown:()=>v("min"),onMouseUp:()=>v(null),onTouchStart:()=>v("min"),onTouchEnd:()=>v(null),className:"absolute top-0 h-2 w-full cursor-pointer appearance-none bg-transparent [&::-webkit-slider-thumb]:relative [&::-webkit-slider-thumb]:z-10 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-feather-gold [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:hover:scale-110 [&::-webkit-slider-thumb]:hover:bg-warm-gold [&::-moz-range-thumb]:relative [&::-moz-range-thumb]:z-10 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-feather-gold [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg [&::-moz-range-thumb]:transition-all [&::-moz-range-thumb]:hover:scale-110 [&::-moz-range-thumb]:hover:bg-warm-gold",style:{zIndex:A==="min"?20:10}}),e.jsx("input",{type:"range",min:f,max:j,step:z,value:a.max,onChange:P,onMouseDown:()=>v("max"),onMouseUp:()=>v(null),onTouchStart:()=>v("max"),onTouchEnd:()=>v(null),className:"absolute top-0 h-2 w-full cursor-pointer appearance-none bg-transparent [&::-webkit-slider-thumb]:relative [&::-webkit-slider-thumb]:z-10 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-feather-gold [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:hover:scale-110 [&::-webkit-slider-thumb]:hover:bg-warm-gold [&::-moz-range-thumb]:relative [&::-moz-range-thumb]:z-10 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-feather-gold [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:shadow-lg [&::-moz-range-thumb]:transition-all [&::-moz-range-thumb]:hover:scale-110 [&::-moz-range-thumb]:hover:bg-warm-gold",style:{zIndex:A==="max"?20:10}})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",htmlFor:"price-min",children:"Min"}),e.jsx("input",{id:"price-min",type:"number",value:a.min,onChange:M,min:f,max:a.max,step:z,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-1.5 text-sm text-slate-700 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-medium text-slate-500",htmlFor:"price-max",children:"Max"}),e.jsx("input",{id:"price-max",type:"number",value:a.max,onChange:F,min:a.min,max:j,step:z,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-1.5 text-sm text-slate-700 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:S,className:"flex-1 rounded-lg bg-elvee-blue px-4 py-2 text-sm font-semibold text-white shadow-elvee-blue/30 transition hover:bg-navy",children:"Apply"}),e.jsx("button",{type:"button",onClick:b,className:"flex-1 rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900",children:"Reset"})]})]})}function ne({product:a,productLink:m,imageUrl:o,defaultVariant:w,isWishlisted:i,wishlistBusyId:A,viewMode:v,mode:I,toggleWishlist:$}){const C=A===a.id,P=I==="jobwork"&&a.is_jobwork_allowed,M=b=>b==null?"—":`${b.toFixed(2)} g`,F=[a.gold_weight!==null&&a.gold_weight!==void 0?`${a.gold_weight.toFixed(2)} g gold`:null,a.silver_weight!==null&&a.silver_weight!==void 0?`${a.silver_weight.toFixed(2)} g silver`:null,a.other_material_weight!==null&&a.other_material_weight!==void 0?`${a.other_material_weight.toFixed(2)} g other`:null,a.total_weight!==null&&a.total_weight!==void 0?`${a.total_weight.toFixed(2)} g total`:null].filter(Boolean),S=e.jsx("button",{type:"button",onClick:b=>{b.preventDefault(),b.stopPropagation(),$(a.id,w?.id??null)},disabled:C,"aria-pressed":i,className:`inline-flex h-10 w-10 items-center justify-center rounded-full border text-sm transition ${i?"border-rose-200 bg-rose-500/10 text-rose-500":"border-white/70 bg-white/70 text-slate-600 hover:border-rose-200 hover:text-rose-500"} ${C?"opacity-60":""}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:i?"currentColor":"none",stroke:"currentColor",strokeWidth:1.5,className:"h-5 w-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 5.053 7.5 10.5 9 10.5s9-5.447 9-10.5z"})})});return v==="list"?e.jsxs("article",{className:"group relative flex gap-6 rounded-3xl border border-slate-200 bg-white p-4 shadow-sm transition hover:-translate-y-1 hover:shadow-xl",children:[e.jsx(W,{href:m,className:"block w-48 flex-shrink-0 overflow-hidden rounded-2xl",children:e.jsx("div",{className:"relative h-48 w-full overflow-hidden rounded-2xl bg-slate-100",children:o?e.jsx("img",{src:o,alt:a.name,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-slate-500",children:"No image"})})}),e.jsxs("div",{className:"flex flex-1 flex-col justify-between",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{href:m,className:"text-lg font-semibold text-slate-900 transition hover:text-feather-gold",children:a.name}),e.jsxs("p",{className:"text-sm text-slate-500",children:["SKU ",a.sku]}),e.jsx("p",{className:"text-sm text-slate-600",children:a.brand??"Elvee Atelier"}),e.jsxs("p",{className:"text-sm text-slate-600",children:[E.format(a.base_price)," ",e.jsxs("span",{className:"text-xs text-slate-500",children:["+ ",E.format(a.making_charge)," making"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500",children:[e.jsx("span",{children:a.material??"Custom material"}),F.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:F.join(" • ")})]})]}),a.is_jobwork_allowed&&e.jsx("p",{className:"text-xs font-medium text-emerald-600",children:"Available for jobwork"})]}),S]}),e.jsx("div",{className:"flex items-center justify-between",children:P&&e.jsx("span",{className:"rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-sm font-medium text-emerald-700",children:"Jobwork available"})})]})]}):e.jsxs("article",{className:"group relative overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-lg transition hover:-translate-y-1 hover:shadow-2xl",children:[e.jsx("div",{className:"absolute right-5 top-5 z-20",children:S}),e.jsx(W,{href:m,className:"block",children:e.jsx("div",{className:"relative h-56 w-full overflow-hidden rounded-t-3xl bg-slate-100",children:o?e.jsx("img",{src:o,alt:a.name,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm text-slate-500",children:"No image"})})}),e.jsxs("div",{className:"space-y-3 p-6",children:[e.jsx(W,{href:m,className:"text-lg font-semibold text-slate-900 transition hover:text-feather-gold",children:a.name}),e.jsxs("p",{className:"text-sm text-slate-500",children:["SKU ",a.sku]}),a.catalogs&&a.catalogs.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:a.catalogs.slice(0,2).map(b=>e.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-500",children:b.name},b.id))}),e.jsxs("div",{className:"rounded-2xl bg-slate-50 p-4 text-sm text-slate-600",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{children:E.format(a.base_price)}),e.jsxs("span",{className:"text-xs text-slate-500",children:["Making ",E.format(a.making_charge)]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs text-slate-500",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Material"}),e.jsx("p",{children:a.material??"Custom blend"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Gold weight"}),e.jsx("p",{children:M(a.gold_weight)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Silver weight"}),e.jsx("p",{children:M(a.silver_weight)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Other weight"}),e.jsx("p",{children:M(a.other_material_weight)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Total weight"}),e.jsx("p",{children:M(a.total_weight)})]})]}),a.is_jobwork_allowed&&e.jsx("p",{className:"mt-3 text-xs font-medium text-emerald-600",children:"Available for jobwork"})]}),P&&e.jsx("span",{className:"inline-flex items-center rounded-full border border-emerald-200 bg-emerald-50 px-4 py-1 text-xs font-semibold text-emerald-700",children:"Jobwork available"})]})]})}export{xe as default};
