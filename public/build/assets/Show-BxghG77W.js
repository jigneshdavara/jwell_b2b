import{u as o,a as c,j as e,H as x}from"./app-QzdpPliV.js";import{A as m}from"./AdminLayout-pg0ur-Jd.js";function j(){const{order:t,statusOptions:d}=o().props,{data:l,setData:a,post:n,processing:i}=c({status:t.status,meta:{comment:""}}),r=s=>{s.preventDefault(),n(route("admin.orders.update-status",t.id),{preserveScroll:!0})};return e.jsxs(m,{children:[e.jsx(x,{title:`Order ${t.reference}`}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"rounded-3xl bg-white p-6 shadow-xl shadow-slate-900/10 ring-1 ring-slate-200/80",children:e.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-semibold text-slate-900",children:["Order ",t.reference]}),e.jsxs("p",{className:"text-sm text-slate-500",children:[t.user?.name??"Unassigned"," · ",t.user?.email??"—"]})]}),e.jsx("span",{className:"inline-flex items-center rounded-full bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-700",children:t.status_label})]})}),e.jsxs("form",{onSubmit:r,className:"space-y-4 rounded-3xl bg-white p-6 shadow-xl shadow-slate-900/10 ring-1 ring-slate-200/80",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Update status"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600",children:[e.jsx("span",{className:"font-semibold text-slate-800",children:"Workflow stage"}),e.jsx("select",{className:"rounded-2xl border border-slate-300 px-4 py-2 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200",value:l.status,onChange:s=>a("status",s.target.value),children:d.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600",children:[e.jsx("span",{className:"font-semibold text-slate-800",children:"Operator note"}),e.jsx("textarea",{className:"min-h-[100px] rounded-2xl border border-slate-300 px-4 py-2 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200",value:l.meta.comment??"",onChange:s=>a("meta",{...l.meta,comment:s.target.value}),placeholder:"Optional note shared with production & support"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:i,className:"rounded-full bg-slate-900 px-5 py-2 text-sm font-semibold text-white shadow shadow-slate-900/20 transition hover:bg-slate-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Save status"})})]}),e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl shadow-slate-900/10 ring-1 ring-slate-200/80",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Line items"}),e.jsx("div",{className:"mt-4 divide-y divide-slate-200",children:t.items.map(s=>e.jsxs("div",{className:"flex flex-col gap-2 py-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-900",children:s.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:["SKU: ",s.sku]})]}),e.jsxs("div",{className:"text-sm text-slate-600 md:text-right",children:[e.jsxs("p",{children:["Qty: ",s.quantity]}),e.jsxs("p",{children:["Total: ₹ ",s.total_price.toLocaleString("en-IN")]})]})]},s.id))})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl shadow-slate-900/10 ring-1 ring-slate-200/80",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Totals"}),e.jsxs("dl",{className:"mt-4 space-y-2 text-sm text-slate-600",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{children:"Subtotal"}),e.jsxs("dd",{children:["₹ ",t.subtotal_amount.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{children:"Tax"}),e.jsxs("dd",{children:["₹ ",t.tax_amount.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{children:"Discount"}),e.jsxs("dd",{children:["-₹ ",t.discount_amount.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex justify-between text-base font-semibold text-slate-900",children:[e.jsx("dt",{children:"Grand Total"}),e.jsxs("dd",{children:["₹ ",t.total_amount.toLocaleString("en-IN")]})]})]})]}),e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl shadow-slate-900/10 ring-1 ring-slate-200/80",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Price breakdown"}),e.jsx("pre",{className:"mt-4 max-h-64 overflow-auto rounded-2xl bg-slate-900/95 p-4 text-xs text-slate-100",children:JSON.stringify(t.price_breakdown??{},null,2)})]})]})]})]})}export{j as default};
