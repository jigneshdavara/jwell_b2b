import{j as e,r as l,u as te,a as se,H as ae,b as O}from"./app-xiOEIreu.js";import{A as ne}from"./AuthenticatedLayout-jfKbel75.js";import"./ApplicationLogo-Dg1h9LTV.js";import"./FlashMessage-CKFpXUfl.js";function ie({children:o,isSelected:S,isDisabled:c=!1,onClick:w}){return e.jsx("button",{type:"button",onClick:w,disabled:c,className:`
                inline-flex items-center rounded-full px-4 py-2 text-sm font-medium transition-all shadow-sm
                ${S?"bg-[#0E244D] text-white shadow-md":c?"border border-slate-200 bg-slate-50 text-slate-400 cursor-not-allowed":"border border-[#0E244D]/30 bg-white text-[#0E244D] hover:bg-[#F8F5F0] hover:border-[#0E244D]/50"}
            `,children:o})}function le({configurationOptions:o,selectedVariantId:S,onVariantChange:c}){const w=s=>{if(s.purityName&&s.toneName&&s.metalName)return`${s.purityName} ${s.toneName}`;let t=s.label.replace(/\s+\d+\.?\d*\s*g\s*$/i,"").replace(/\s+\d+\.?\d*\s*grams?\s*$/i,"").trim();const r=t.split(/\s+/).filter(a=>a.length>0);if(r.length===0)return t;const d=r[0];r[r.length-1];const n=r.slice(1,r.length-1).join(" ");return`${d} ${n}`.trim()},p=l.useMemo(()=>{const s=new Map;return o.forEach(t=>{if(t.metals.length===0)return;const d=t.metals.map(w).join(" + "),n=`metals_${t.metals.map(a=>`${a.metalId}_${a.metalPurityId??"null"}_${a.metalToneId??"null"}`).sort().join("|")}`;if(!s.has(n))s.set(n,{id:n,label:d,variantIds:[t.variant_id]});else{const a=s.get(n);a.variantIds.includes(t.variant_id)||a.variantIds.push(t.variant_id)}}),Array.from(s.values()).sort((t,r)=>t.label.localeCompare(r.label))},[o]),$=s=>{const t=s.label.split(" ").filter(u=>u.length>0&&!u.match(/^\d+\.\d+ct$/i)&&!u.match(/^\(\d+\)$/));let r="",d="";for(let u=0;u<t.length;u++){const n=t[u];if(/^(SI|VS|VVS|IF|FL|I[1-3]|VVS[12]|VS[12])/i.test(n)){if(r=n.toUpperCase(),u>0){const a=t[u-1];/^[A-Z]{1,2}$/i.test(a)&&a.length<=2&&(d=a.toUpperCase())}break}}return!r&&t.length>=4&&(r=t[3]?.toUpperCase()||"",d=t[2]?.toUpperCase()||""),r&&d?`${r} ${d}`:r||s.label.split(" ").slice(0,4).join(" ")},b=l.useMemo(()=>{const s=new Map;return o.forEach(t=>{if(t.diamonds.length===0)return;const d=t.diamonds.map($).join(" + "),n=`diamonds_${t.diamonds.map(a=>`${a.diamondShapeId}_${a.diamondColorId}_${a.diamondClarityId}`).sort().join("|")}`;if(!s.has(n))s.set(n,{id:n,label:d,variantIds:[t.variant_id]});else{const a=s.get(n);a.variantIds.includes(t.variant_id)||a.variantIds.push(t.variant_id)}}),Array.from(s.values()).sort((t,r)=>t.label.localeCompare(r.label))},[o]),v=l.useMemo(()=>o.find(s=>s.variant_id===S)??null,[S,o]),m=l.useMemo(()=>!v||v.metals.length===0?null:`metals_${v.metals.map(t=>`${t.metalId}_${t.metalPurityId??"null"}_${t.metalToneId??"null"}`).sort().join("|")}`,[v]),i=l.useMemo(()=>!v||v.diamonds.length===0?null:`diamonds_${v.diamonds.map(t=>`${t.diamondShapeId}_${t.diamondColorId}_${t.diamondClarityId}`).sort().join("|")}`,[v]),y=l.useMemo(()=>s=>{if(!s)return new Set(b.map(d=>d.id));const t=new Set,r=p.find(d=>d.id===s);return r&&r.variantIds.forEach(d=>{const u=o.find(n=>n.variant_id===d);if(u&&u.diamonds.length>0){const a=`diamonds_${u.diamonds.map(x=>`${x.diamondShapeId}_${x.diamondColorId}_${x.diamondClarityId}`).sort().join("|")}`;t.add(a)}}),t},[o,b,p]),g=l.useMemo(()=>s=>{if(!s)return new Set(p.map(d=>d.id));const t=new Set,r=b.find(d=>d.id===s);return r&&r.variantIds.forEach(d=>{const u=o.find(n=>n.variant_id===d);if(u&&u.metals.length>0){const a=`metals_${u.metals.map(x=>`${x.metalId}_${x.metalPurityId??"null"}_${x.metalToneId??"null"}`).sort().join("|")}`;t.add(a)}}),t},[o,p,b]);l.useMemo(()=>y(m),[m,y]);const N=l.useMemo(()=>g(i),[i,g]),D=(s,t)=>{const r=p.find(n=>n.id===s),d=b.find(n=>n.id===t);return!r||!d?null:r.variantIds.find(n=>d.variantIds.includes(n))??null},E=s=>{if(m===s){c(null);return}if(i){const t=D(s,i);c(t)}else{const t=p.find(r=>r.id===s);c(t?.variantIds[0]??null)}},k=m&&i&&!v;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-[#0E244D] mb-2",children:"Customization"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Select your preferred metal and diamond quality to see pricing."})]}),p.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#0E244D]",children:"Metal"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(s=>{const t=!i||N.has(s.id);return e.jsx(ie,{isSelected:m===s.id,isDisabled:!t,onClick:()=>E(s.id),children:s.label},s.id)})})]}),k&&e.jsx("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-600",children:"This combination is not available."})]})}function re({selectedConfig:o,productDescription:S}){const[c,w]=l.useState("details"),[p,$]=l.useState(new Set(["metal","diamond","general","description"])),b=i=>{$(y=>{const g=new Set(y);return g.has(i)?g.delete(i):g.add(i),g})},v=l.useMemo(()=>!o||!o.metals||o.metals.length===0?[]:o.metals.map(i=>{const y=i.purityName||i.label.match(/(\d+K|\d{3})/i)?.[1]?.toUpperCase()||"—",g=i.toneName||"—";let N="—";if(i.metalWeight){const t=parseFloat(i.metalWeight);!isNaN(t)&&t>0&&(N=t%1===0?`${t.toFixed(0)} g`:`${t.toFixed(2)} g`)}const D=i.metalName||(i.label.toLowerCase().includes("gold")?"Gold":i.label.toLowerCase().includes("silver")?"Silver":i.label.toLowerCase().includes("platinum")?"Platinum":"—"),E=i.label.replace(/\s+\d+\.?\d*\s*g\s*$/i,"").replace(/\s+\d+\.?\d*\s*grams?\s*$/i,"").trim(),k=E.split(/\s+/).filter(t=>t.length>0),s=k.length>=3?k.slice(0,3).join(" "):E;return{id:`${i.metalId}_${i.metalPurityId??"null"}_${i.metalToneId??"null"}`,title:s,karatage:y,materialColour:g,grossMetalWeight:N,metal:D}}),[o]),m=l.useMemo(()=>{if(!o||o.diamonds.length===0)return null;const i=o.diamonds,y=i[0],g=y.label.split(" ").filter(n=>n.length>0&&!n.match(/^\d+\.\d+ct$/i)&&!n.match(/^\(\d+\)$/));let N="",D="";for(let n=0;n<g.length;n++){const a=g[n];if(/^(SI|VS|VVS|IF|FL|I[1-3]|VVS[12]|VS[12])/i.test(a)){if(N=a.toUpperCase(),n>0){const x=g[n-1];/^[A-Z]{1,2}$/i.test(x)&&x.length<=2&&(D=x.toUpperCase())}break}}const E=N&&D?`${N} ${D}`:y.label.split(" ").slice(0,4).join(" "),k=y.label.match(/\b(Round|Princess|Oval|Emerald|Cushion|Marquise|Pear|Asscher|Radiant|Heart)\b/i),s=k?k[1]:"—",t=i.reduce((n,a)=>{const x=parseFloat(a.totalCarat||"0");return n+(isNaN(x)?0:x)},0),r=t>0?`${t.toFixed(2)} ct`:"—",d=i.reduce((n,a)=>n+(a.stoneCount||0),0),u=d>0?d.toString():"—";return{diamondQuality:E,diamondShape:s,totalCaratWeight:r,numberOfDiamonds:u}},[o]);return e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex border-b border-[#0E244D]/20",children:[e.jsx("button",{type:"button",onClick:()=>w("details"),className:`px-4 py-2 text-sm font-semibold transition-colors ${c==="details"?"text-[#0E244D] border-b-2 border-[#0E244D]":"text-gray-500 hover:text-[#0E244D]"}`,children:"Product Details"}),e.jsx("button",{type:"button",onClick:()=>w("price"),className:`px-4 py-2 text-sm font-semibold transition-colors ${c==="price"?"text-[#0E244D] border-b-2 border-[#0E244D]":"text-gray-500 hover:text-[#0E244D]"}`,children:"Price Breakup"})]}),c==="details"&&e.jsxs("div",{className:"space-y-4",children:[o&&e.jsxs("div",{className:"rounded-2xl bg-white border border-[#0E244D]/10 shadow-sm overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>b("metal"),className:"w-full flex items-center justify-between px-6 py-4 text-left hover:bg-[#F8F5F0]/50 transition-colors",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0E244D]",children:"Metal Details"}),e.jsx("svg",{className:`w-5 h-5 text-[#0E244D] transition-transform ${p.has("metal")?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p.has("metal")&&e.jsx("div",{className:"px-6 pb-6 space-y-6",children:v.length>0?v.map((i,y)=>e.jsxs("div",{className:y>0?"pt-6 border-t border-gray-200":"",children:[e.jsx("h4",{className:"text-sm font-semibold text-[#0E244D] mb-4",children:i.title}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Karatage"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:i.karatage})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Material Colour"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:i.materialColour})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Gross Metal Weight"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:i.grossMetalWeight})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Metal"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:i.metal})]})]})]},i.id)):e.jsx("div",{className:"text-sm text-gray-500",children:"No metal details available for this configuration."})})]}),o&&e.jsxs("div",{className:"rounded-2xl bg-white border border-[#0E244D]/10 shadow-sm overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>b("diamond"),className:"w-full flex items-center justify-between px-6 py-4 text-left hover:bg-[#F8F5F0]/50 transition-colors",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0E244D]",children:"Diamond Details"}),e.jsx("svg",{className:`w-5 h-5 text-[#0E244D] transition-transform ${p.has("diamond")?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p.has("diamond")&&e.jsx("div",{className:"px-6 pb-6",children:m?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Diamond Quality"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:m.diamondQuality})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Diamond Shape"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:m.diamondShape})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Total Carat Weight"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:m.totalCaratWeight})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Number of Diamonds"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:m.numberOfDiamonds})]})]}):e.jsx("div",{className:"text-sm text-gray-500",children:"No diamond details available for this configuration."})})]}),e.jsxs("div",{className:"rounded-2xl bg-white border border-[#0E244D]/10 shadow-sm overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>b("general"),className:"w-full flex items-center justify-between px-6 py-4 text-left hover:bg-[#F8F5F0]/50 transition-colors",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0E244D]",children:"General Details"}),e.jsx("svg",{className:`w-5 h-5 text-[#0E244D] transition-transform ${p.has("general")?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p.has("general")&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"text-sm text-gray-600",children:"General product information will be displayed here."})})]}),S&&e.jsxs("div",{className:"rounded-2xl bg-white border border-[#0E244D]/10 shadow-sm overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>b("description"),className:"w-full flex items-center justify-between px-6 py-4 text-left hover:bg-[#F8F5F0]/50 transition-colors",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0E244D]",children:"Description"}),e.jsx("svg",{className:`w-5 h-5 text-[#0E244D] transition-transform ${p.has("description")?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p.has("description")&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:S})})]})]}),c==="price"&&o&&e.jsxs("div",{className:"rounded-2xl bg-white border border-[#0E244D]/10 shadow-sm p-6",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0E244D] mb-4",children:"Price Breakdown"}),e.jsxs("div",{className:"space-y-3",children:[o.price_breakup.metal>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Metal"}),e.jsxs("span",{className:"text-sm font-semibold text-[#0E244D]",children:["₹",o.price_breakup.metal.toLocaleString("en-IN")]})]}),o.price_breakup.diamond>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Diamond"}),e.jsxs("span",{className:"text-sm font-semibold text-[#0E244D]",children:["₹",o.price_breakup.diamond.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Making Charge"}),e.jsxs("span",{className:"text-sm font-semibold text-[#0E244D]",children:["₹",o.price_breakup.making.toLocaleString("en-IN")]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-base font-semibold text-[#0E244D]",children:"Total"}),e.jsxs("span",{className:"text-lg font-bold text-[#0E244D]",children:["₹",o.price_total.toLocaleString("en-IN")]})]})})]})]})]})}const q=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0});function pe(){const o=te(),{mode:S,product:c,configurationOptions:w}=o.props,p=o.props.wishlist?.product_ids??[],$=l.useMemo(()=>new Set(p),[p]),[b,v]=l.useState(w[0]?.variant_id??null),m=l.useMemo(()=>w.find(h=>h.variant_id===b)??null,[b,w]),[i]=l.useState("purchase"),[y,g]=l.useState(!1),[N,D]=l.useState(!1),[E,k]=l.useState("1"),[s,t]=l.useState(0),[r,d]=l.useState(!1),[u,n]=l.useState(1.5),a=c.media.length,x=a>0,W=x?c.media[Math.min(s,a-1)]:null,{data:_,setData:M,post:U,processing:F,errors:C}=se({product_id:c.id,product_variant_id:b??null,mode:i,quantity:1,notes:"",selections:{metal_id:null,metal_purity_id:null,metal_tone_id:null,diamond_option_keys:[]}});l.useEffect(()=>{M("mode",i)},[i,M]),l.useEffect(()=>{k(String(_.quantity))},[b,_.quantity]);const L=S==="jobwork";l.useEffect(()=>{M("product_variant_id",b??null)},[b,M]);const[oe,de]=l.useState(!1),[ce,z]=l.useState($.has(c.id));l.useEffect(()=>{z($.has(c.id))},[$,c.id]),l.useEffect(()=>{t(0)},[c.id]),l.useEffect(()=>{s>a-1&&t(Math.max(a-1,0))},[s,a]);const K=l.useMemo(()=>m?L?m.price_breakup.making:m.price_total:0,[m,L]),Z=h=>{if(h.preventDefault(),F||B)return;const f={product_id:c.id,product_variant_id:_.product_variant_id,quantity:_.quantity,configuration:{mode:i,notes:_.notes,selections:_.selections}};O.post(route("frontend.cart.items.store"),f,{preserveScroll:!0})},G=()=>{F||N||(D(!0),U(route("frontend.quotations.store"),{preserveScroll:!0,onSuccess:()=>g(!1),onFinish:()=>D(!1)}))},H=()=>{const h={product_id:c.id,product_variant_id:_.product_variant_id,quantity:_.quantity,configuration:{mode:S,notes:_.notes,selections:_.selections}};O.post(route("frontend.cart.items.store"),h,{preserveScroll:!0,onSuccess:()=>{g(!1)}})},J=l.useCallback(()=>{x&&d(!0)},[x]),T=l.useCallback(()=>{d(!1)},[]),A=l.useCallback(()=>n(1.5),[]),Q=l.useCallback(()=>{!x||a<=1||t(h=>(h-1+a)%a)},[x,a]),R=l.useCallback(()=>{!x||a<=1||t(h=>(h+1)%a)},[x,a]);l.useEffect(()=>{if(!r||typeof document>"u")return;const h=document.body.style.overflow;document.body.style.overflow="hidden";const f=I=>{I.key==="Escape"?T():I.key==="ArrowRight"?R():I.key==="ArrowLeft"&&Q()};return window.addEventListener("keydown",f),()=>{document.body.style.overflow=h,window.removeEventListener("keydown",f)}},[r,T,R,Q]),l.useEffect(()=>{r&&A()},[s,r,A]);const B=w.length>0&&!m,j=m?.inventory_quantity??null,P=j!==null&&j===0,X=parseInt(E,10)||1,V=j!==null&&j>0&&X>j,Y=P||V;return l.useEffect(()=>{k(String(_.quantity))},[b]),e.jsxs(ne,{children:[e.jsx(ae,{title:c.name}),e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid gap-10 lg:grid-cols-[1.6fr_1fr]",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/80",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:c.name}),c.brand&&e.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["by ",c.brand]})]}),x&&e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"relative aspect-square w-full overflow-hidden rounded-2xl bg-slate-100",children:e.jsx("img",{src:W?.url,alt:W?.alt??c.name,className:"h-full w-full object-cover",onClick:J,onError:h=>{const f=h.target;f.src="/placeholder-image.png"}})}),a>1&&e.jsx("div",{className:"mt-4 flex gap-2 overflow-x-auto pb-2",children:c.media.map((h,f)=>e.jsx("button",{type:"button",onClick:()=>t(f),className:`relative h-20 w-20 flex-shrink-0 overflow-hidden rounded-xl border-2 transition ${f===s?"border-feather-gold":"border-transparent hover:border-slate-300"}`,children:e.jsx("img",{src:h.url,alt:h.alt??c.name,className:"h-full w-full object-cover",onError:I=>{const ee=I.target;ee.src="/placeholder-image.png"}})},f))})]}),e.jsx(re,{selectedConfig:m,productDescription:c.description})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("form",{onSubmit:Z,className:"w-full space-y-5 rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/80",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Request quotation"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Select your configuration and our merchandising desk will share pricing shortly."})]}),w.length>0&&e.jsx(le,{configurationOptions:w,selectedVariantId:b,onVariantChange:v}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:["Quantity",j!==null&&j>0&&!V&&e.jsxs("span",{className:"ml-1 font-normal text-slate-500",children:["(Available: ",j,")"]})]}),e.jsx("input",{type:"number",min:"1",max:j!==null&&j>0?j:void 0,value:E,onChange:h=>{const f=h.target.value;k(f);const I=parseInt(f,10);!isNaN(I)&&I>=1&&M("quantity",I)},onBlur:h=>{const f=parseInt(E,10);isNaN(f)||f<1?(k("1"),M("quantity",1)):(k(String(f)),M("quantity",f))},className:`w-full rounded-2xl border px-4 py-2.5 text-sm text-slate-900 focus:outline-none focus:ring-2 ${V&&!P?"border-rose-300 bg-rose-50 focus:border-rose-400 focus:ring-rose-400/20":"border-slate-200 bg-white focus:border-feather-gold focus:ring-feather-gold/20"}`}),C.quantity&&e.jsx("span",{className:"text-xs text-rose-500",children:C.quantity}),V&&!P&&!C.quantity&&j!==null&&e.jsxs("span",{className:"text-xs text-rose-500",children:["Only ",j," ",j===1?"item is":"items are"," ","available. Maximum ",j," ",j===1?"item":"items"," ","allowed for request."]})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600",children:"Notes (optional)"}),e.jsx("textarea",{rows:4,value:_.notes,onChange:h=>M("notes",h.target.value),className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-2.5 text-sm text-slate-900 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20",placeholder:"List required scope: hallmarking, hallmark packaging, diamond certification, delivery deadlines…"}),C.notes&&e.jsx("span",{className:"text-xs text-rose-500",children:C.notes})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Estimated total"}),m?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mt-1 text-xl font-semibold text-slate-900",children:q.format(K)}),e.jsx("p",{className:"text-xs text-slate-500",children:L?"Includes making charge only. Final quotation may vary with labour costs.":"Includes metal, diamond, and making charge. Final quotation may vary with bullion/diamond parity and labour."}),!L&&e.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[m.price_breakup.metal>0&&e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{children:"Metal:"}),e.jsx("span",{className:"font-medium",children:q.format(m.price_breakup.metal)})]}),m.price_breakup.diamond>0&&e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{children:"Diamond:"}),e.jsx("span",{className:"font-medium",children:q.format(m.price_breakup.diamond)})]}),e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{children:"Making:"}),e.jsx("span",{className:"font-medium",children:q.format(m.price_breakup.making)})]})]}),L&&e.jsx("div",{className:"mt-2 space-y-1 text-xs",children:e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{children:"Making charge:"}),e.jsx("span",{className:"font-medium",children:q.format(m.price_breakup.making)})]})})]}):e.jsx("p",{className:"mt-1 text-sm text-rose-600",children:"Please select a configuration to see pricing."})]}),P&&e.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-amber-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Out of Stock"}),e.jsx("p",{className:"text-xs mt-0.5",children:"This product variant is currently out of stock. Quotation requests are not available."})]})]})}),e.jsx("button",{type:"submit",disabled:F||B||Y,className:"w-full rounded-full bg-elvee-blue px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-elvee-blue/30 transition hover:bg-navy disabled:cursor-not-allowed disabled:opacity-60",children:F?"Submitting…":"Request quotation"})]})})]})}),y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"w-full max-w-md space-y-4 rounded-3xl bg-white p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Confirm quotation"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Submit this quotation request with the selected configuration? Our merchandising desk will review and respond shortly."}),e.jsxs("div",{className:"space-y-2 rounded-2xl bg-slate-50 p-4 text-xs text-slate-500",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"Mode:"})," ",S==="jobwork"?"Jobwork":"Jewellery"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"Quantity:"})," ",_.quantity]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",className:"rounded-full border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-600 hover:border-slate-400 hover:text-slate-900",onClick:()=>g(!1),disabled:N,children:"Review again"}),e.jsx("button",{type:"button",className:"rounded-full border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-600 hover:border-slate-400 hover:text-slate-900",onClick:H,disabled:N,children:"Add to quotation list"}),e.jsx("button",{type:"button",className:"rounded-full bg-elvee-blue px-4 py-2 text-sm font-semibold text-white shadow-elvee-blue/30 hover:bg-navy disabled:cursor-not-allowed disabled:opacity-60",onClick:G,disabled:N,children:N?"Submitting…":"Confirm submission"})]})]})})]})}export{pe as default};
