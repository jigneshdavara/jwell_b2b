import{u as p,r as c,j as e,H as b,L as n,b as d}from"./app-QzdpPliV.js";import{A as j}from"./AuthenticatedLayout-DHRvdEI_.js";import"./FlashMessage-C6pnsQhr.js";const m=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0});function w(){const{filters:l,products:r,facets:i}=p().props,[o,x]=c.useState(l.search??""),a=(s,t)=>{d.get(route("frontend.catalog.index"),{...l,[s]:t??void 0,page:void 0},{preserveScroll:!0,preserveState:!0})},h=()=>{d.get(route("frontend.catalog.index"))},u=s=>{s.preventDefault(),a("search",o.trim()||void 0)},g=(s,t)=>{d.post(route("frontend.cart.items.store"),{product_id:s,product_variant_id:t,quantity:1},{preserveScroll:!0})},f=c.useMemo(()=>Object.entries(l).filter(([,s])=>s).map(([s,t])=>({key:s,value:t})),[l]);return e.jsxs(j,{children:[e.jsx(b,{title:"Catalogue"}),e.jsxs("div",{className:"space-y-10",id:"catalog",children:[e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Showcase Collection"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Filter by brand, material, or purity. Prices reflect live bullion rates locked at checkout."})]}),e.jsx("div",{children:e.jsxs("form",{onSubmit:u,className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[220px]",children:[e.jsx("input",{type:"search",value:o,onChange:s=>x(s.target.value),placeholder:"Search SKU or design",className:"w-full rounded-2xl border border-slate-300 bg-white/80 px-4 py-2 text-sm text-slate-700 shadow-inner focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200"}),l.search&&e.jsx("button",{type:"button",onClick:()=>{x(""),a("search")},className:"absolute inset-y-0 right-3 flex items-center text-xs font-medium text-slate-400 hover:text-slate-600",children:"Clear"})]}),e.jsx("button",{type:"submit",className:"rounded-2xl bg-sky-600 px-4 py-2 text-sm font-semibold text-white shadow-sky-600/30 transition hover:bg-sky-500",children:"Search"}),e.jsx("button",{type:"button",onClick:h,className:"rounded-2xl border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 hover:border-slate-400 hover:text-slate-800",children:"Reset"})]})})]}),e.jsx("div",{className:"flex flex-wrap gap-3 text-xs",children:f.map(({key:s,value:t})=>e.jsxs("button",{onClick:()=>a(s),className:"inline-flex items-center gap-1 rounded-full bg-slate-200 px-3 py-1 text-slate-700 hover:bg-slate-300",children:[s.replace(/_/g," "),": ",e.jsx("span",{className:"font-semibold",children:t}),e.jsx("span",{"aria-hidden":!0,children:"Ã—"})]},s))}),e.jsxs("div",{className:"grid gap-6 rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/70 lg:grid-cols-5",children:[e.jsxs("aside",{className:"space-y-6 lg:col-span-1",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-slate-800",children:"Brands"}),e.jsx("div",{className:"mt-3 space-y-2 text-sm",children:i.brands.map(s=>e.jsx("button",{onClick:()=>a("brand",s),className:`w-full rounded-xl px-3 py-2 text-left transition ${l.brand===s?"bg-sky-600/10 font-medium text-sky-700 ring-1 ring-sky-500/40":"text-slate-600 hover:bg-slate-100"}`,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-slate-800",children:"Materials"}),e.jsx("div",{className:"mt-3 space-y-2 text-sm",children:i.materials.map(s=>e.jsx("button",{onClick:()=>a("material",s),className:`w-full rounded-xl px-3 py-2 text-left transition ${l.material===s?"bg-sky-600/10 font-medium text-sky-700 ring-1 ring-sky-500/40":"text-slate-600 hover:bg-slate-100"}`,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-slate-800",children:"Purity"}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:i.purities.map(s=>e.jsx("button",{onClick:()=>a("purity",s),className:`rounded-full px-3 py-1 text-xs font-medium transition ${l.purity===s?"bg-sky-600 text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:s},s))})]})]}),e.jsxs("section",{className:"lg:col-span-4",children:[r.data.length===0?e.jsx("div",{className:"rounded-3xl border border-dashed border-slate-300 p-10 text-center text-sm text-slate-500",children:"No products match your filters. Try broadening your search or reset filters."}):e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 xl:grid-cols-3",children:r.data.map(s=>e.jsxs("article",{className:"group relative overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-lg transition hover:-translate-y-1 hover:shadow-2xl",children:[s.thumbnail&&e.jsxs("div",{className:"relative h-56 w-full overflow-hidden bg-slate-100",children:[e.jsx("img",{src:s.thumbnail,alt:s.name,className:"h-full w-full object-cover transition duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/40 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex flex-col text-white",children:[e.jsx("span",{className:"text-xs uppercase tracking-[0.35em] text-white/80",children:s.category??"Signature"}),e.jsx("span",{className:"text-sm font-semibold",children:s.brand??"AurumCraft Atelier"})]})]}),e.jsxs("div",{className:"space-y-3 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 group-hover:text-sky-600",children:s.name}),e.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:["SKU ",s.sku]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.variants.slice(0,3).map(t=>e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-[11px] font-medium ${t.is_default?"bg-slate-900 text-white":"bg-slate-100 text-slate-600"}`,children:t.label},t.id))}),e.jsx("div",{className:"rounded-2xl bg-slate-50 p-4",children:e.jsxs("dl",{className:"grid grid-cols-2 gap-3 text-xs text-slate-500",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"font-medium text-slate-600",children:"Material"}),e.jsx("dd",{children:s.material??"Custom blend"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"font-medium text-slate-600",children:"Purity"}),e.jsx("dd",{children:s.purity??"On request"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"font-medium text-slate-600",children:"Gross"}),e.jsxs("dd",{children:[s.gross_weight.toFixed(2)," g"]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"font-medium text-slate-600",children:"Net"}),e.jsxs("dd",{children:[s.net_weight.toFixed(2)," g"]})]})]})}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Base Price"}),e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:m.format(s.base_price)}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Making ",m.format(s.making_charge)]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[s.is_jobwork_allowed?e.jsx(n,{href:`${route("frontend.jobwork.index")}?product=${s.id}`,className:"rounded-full border border-slate-300 px-4 py-2 text-xs font-medium text-slate-600 hover:border-slate-400 hover:text-slate-800",children:"Request jobwork"}):e.jsx("span",{className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-medium text-slate-400",children:"Catalogue only"}),e.jsx("button",{type:"button",onClick:()=>g(s.id,s.variants.find(t=>t.is_default)?.id??s.variants[0]?.id),className:"rounded-full bg-slate-900 px-4 py-2 text-xs font-semibold text-white shadow-slate-900/30 transition hover:bg-slate-700",children:"Add to cart"}),e.jsx(n,{href:route("frontend.catalog.show",s.id),className:"rounded-full bg-sky-600 px-4 py-2 text-xs font-semibold text-white shadow-sky-600/30 transition hover:bg-sky-500",children:"View details"})]})]})]})]},s.id))}),e.jsx("div",{className:"mt-8 flex flex-wrap items-center justify-center gap-3 text-sm",children:r.links.map((s,t)=>e.jsx(n,{href:s.url??"#",preserveScroll:!0,className:`rounded-full px-4 py-2 transition ${s.active?"bg-sky-600 text-white shadow-lg":s.url?"bg-slate-200 text-slate-700 hover:bg-slate-300":"bg-slate-100 text-slate-400"}`,dangerouslySetInnerHTML:{__html:s.label}},t))})]})]})]})]})}export{w as default};
