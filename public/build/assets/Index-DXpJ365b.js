import{u as p,r as h,j as e,H as u,L as g,b as x}from"./app-DkJetrPT.js";import{A as j}from"./AdminLayout-Dc2_Wi6a.js";const b={pending:"bg-amber-100 text-amber-700",review:"bg-amber-100 text-amber-700",approved:"bg-emerald-100 text-emerald-700",rejected:"bg-rose-100 text-rose-700"};function y(){const{users:r,kycStatuses:d,filters:i,stats:a,userGroups:n}=p().props,c=h.useMemo(()=>["all",...d],[d]),o=s=>{const t=s==="all"?{}:{status:s};x.get(route("admin.users.index"),t,{preserveState:!0,replace:!0,preserveScroll:!0})},m=(s,t)=>{x.patch(route("admin.users.group.update",s.id),{user_group_id:t||null},{preserveScroll:!0,preserveState:!0})};return e.jsxs(j,{children:[e.jsx(u,{title:"Customers & KYC"}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"rounded-3xl bg-white p-6 shadow-xl shadow-slate-900/10 ring-1 ring-slate-200/80",children:e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Customer directory"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Monitor onboarding status, review documents, and unlock ordering access."})]}),e.jsx("div",{className:"flex flex-wrap gap-2 text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:c.map(s=>{const t=(i.status??"all")===s;return e.jsx("button",{type:"button",onClick:()=>o(s),className:`rounded-full px-3 py-1 transition ${t?"bg-slate-900 text-white shadow shadow-slate-900/20":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:s==="all"?"All":s.replace(/_/g," ")},s)})})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[e.jsxs("div",{className:"rounded-3xl bg-slate-900 p-5 text-white shadow-lg shadow-slate-900/30",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-300",children:"Total"}),e.jsx("p",{className:"mt-3 text-3xl font-semibold",children:a.total})]}),e.jsxs("div",{className:"rounded-3xl bg-amber-50 p-5 shadow-lg shadow-amber-500/10",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-amber-500",children:"Pending"}),e.jsx("p",{className:"mt-3 text-3xl font-semibold text-amber-600",children:a.pending})]}),e.jsxs("div",{className:"rounded-3xl bg-amber-100 p-5 shadow-lg shadow-amber-500/10",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-amber-600",children:"Review"}),e.jsx("p",{className:"mt-3 text-3xl font-semibold text-amber-700",children:a.review})]}),e.jsxs("div",{className:"rounded-3xl bg-emerald-50 p-5 shadow-lg shadow-emerald-500/10",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-emerald-500",children:"Approved"}),e.jsx("p",{className:"mt-3 text-3xl font-semibold text-emerald-600",children:a.approved})]}),e.jsxs("div",{className:"rounded-3xl bg-rose-50 p-5 shadow-lg shadow-rose-500/10",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-rose-500",children:"Rejected"}),e.jsx("p",{className:"mt-3 text-3xl font-semibold text-rose-600",children:a.rejected})]})]}),e.jsx("div",{className:"overflow-hidden rounded-3xl bg-white shadow-xl shadow-slate-900/10 ring-1 ring-slate-200/80",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[e.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-[0.3em] text-slate-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-5 py-3 text-left",children:"Name"}),e.jsx("th",{className:"px-5 py-3 text-left",children:"Email"}),e.jsx("th",{className:"px-5 py-3 text-left",children:"Type"}),e.jsx("th",{className:"px-5 py-3 text-left",children:"User group"}),e.jsx("th",{className:"px-5 py-3 text-left",children:"KYC Status"}),e.jsx("th",{className:"px-5 py-3 text-left",children:"Docs"}),e.jsx("th",{className:"px-5 py-3 text-left",children:"Joined"}),e.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100 bg-white",children:[r.data.map(s=>{const t=b[s.kyc_status]??"bg-slate-100 text-slate-600";return e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:e.jsxs("div",{children:[s.name,s.kyc_profile?.business_name&&e.jsx("p",{className:"text-xs font-normal uppercase tracking-[0.3em] text-slate-400",children:s.kyc_profile.business_name})]})}),e.jsx("td",{className:"px-5 py-3 text-slate-600",children:s.email}),e.jsx("td",{className:"px-5 py-3 text-slate-500 uppercase tracking-wide",children:s.type}),e.jsx("td",{className:"px-5 py-3 text-slate-600",children:e.jsxs("select",{className:"rounded-2xl border border-slate-200 px-3 py-2 text-sm focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-200",value:s.user_group?.id??"",onChange:l=>m(s,l.target.value),children:[e.jsx("option",{value:"",children:"No group"}),n.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]})}),e.jsx("td",{className:"px-5 py-3",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${t}`,children:s.kyc_status_label})}),e.jsx("td",{className:"px-5 py-3 text-slate-500",children:s.kyc_document_count}),e.jsx("td",{className:"px-5 py-3 text-slate-500",children:s.joined_at?new Date(s.joined_at).toLocaleDateString("en-IN"):"â€”"}),e.jsx("td",{className:"px-5 py-3 text-right",children:e.jsx(g,{href:route("admin.users.kyc.show",s.id),className:"inline-flex items-center rounded-full bg-slate-900 px-4 py-1.5 text-xs font-semibold text-white shadow shadow-slate-900/20 transition hover:bg-slate-700",children:"Review KYC"})})]},s.id)}),r.data.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-5 py-6 text-center text-sm text-slate-500",children:"No customers found."})})]})]})})]})]})}export{y as default};
