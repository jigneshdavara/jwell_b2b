import{u as d,r as i,j as e,H as c,L as l,b as x}from"./app-ZBegTQyu.js";import{A as h}from"./AuthenticatedLayout-DSalwwtb.js";import{C as m}from"./ConfirmationModal-CIlv-B1G.js";import"./ApplicationLogo-DypG9BZ1.js";import"./FlashMessage-CFH4qtO3.js";import"./Modal-8lhaXcBJ.js";import"./transition-CeUlJuWy.js";import"./SecondaryButton-DyfTcdly.js";const u={pending:{label:"Pending review",style:"bg-amber-100 text-amber-700"},approved:{label:"Approved",style:"bg-emerald-100 text-emerald-700"},rejected:{label:"Rejected",style:"bg-rose-100 text-rose-700"},invoiced:{label:"Awaiting payment",style:"bg-elvee-blue/10 text-elvee-blue"},converted:{label:"Converted to order",style:"bg-slate-200 text-slate-700"},pending_customer_confirmation:{label:"Waiting for you",style:"bg-amber-100 text-amber-700"},customer_confirmed:{label:"You approved",style:"bg-emerald-100 text-emerald-700"},customer_declined:{label:"You declined",style:"bg-rose-100 text-rose-700"}};function N(){const{quotations:a}=d().props,[s,r]=i.useState({show:!1,quotationId:null}),o=t=>t?new Date(t).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A";return e.jsxs(h,{children:[e.jsx(c,{title:"Quotations"}),e.jsxs("div",{className:"space-y-10",children:[e.jsx("header",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/70",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Quotation requests"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Track jewellery purchase and jobwork quotations. We'll notify you as soon as our merchandising desk replies."})]}),e.jsxs(l,{href:route("frontend.catalog.index"),className:"inline-flex items-center gap-2 rounded-full bg-elvee-blue px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-elvee-blue/30 transition hover:bg-navy",children:["Browse catalogue",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}),e.jsx("section",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/70",children:a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 py-16 text-sm text-slate-500",children:[e.jsx("p",{children:"No quotation requests yet."}),e.jsx(l,{href:route("frontend.catalog.index"),className:"rounded-full bg-elvee-blue px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-elvee-blue/30 transition hover:bg-navy",children:"Start a quotation"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Quotation #"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Product"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"SKU"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Quantity"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map(t=>{const n=u[t.status]??{label:t.status,style:"bg-slate-200 text-slate-700"};return e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs(l,{href:route("frontend.quotations.show",t.id),className:"text-sm font-semibold text-elvee-blue hover:text-feather-gold transition",children:["#",t.id]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[t.product.thumbnail&&e.jsx("img",{src:t.product.thumbnail,alt:t.product.name,className:"h-12 w-12 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.product.name}),t.products&&t.products.length>1&&e.jsxs("p",{className:"text-xs text-slate-500",children:["+",t.products.length-1," more product",t.products.length-1!==1?"s":""]})]})]})}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("p",{className:"text-sm text-slate-600",children:t.product.sku}),t.products&&t.products.length>1&&e.jsxs("p",{className:"text-xs text-slate-400",children:["+",t.products.length-1," more"]})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"flex flex-col gap-1",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${n.style}`,children:n.label})})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:t.quantity})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"text-sm text-slate-600",children:o(t.created_at)})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(l,{href:route("frontend.quotations.show",t.id),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 text-slate-600 transition hover:border-elvee-blue hover:bg-elvee-blue/5 hover:text-elvee-blue",title:"View details",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.status==="pending"&&e.jsx("button",{type:"button",onClick:()=>{r({show:!0,quotationId:t.id})},className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-rose-200 text-rose-500 transition hover:border-rose-300 hover:bg-rose-50 hover:text-rose-600",title:"Cancel request",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]},t.id)})})]})})})]}),e.jsx(m,{show:s.show&&s.quotationId!==null,onClose:()=>r({show:!1,quotationId:null}),onConfirm:()=>{s.quotationId&&x.delete(route("frontend.quotations.destroy",s.quotationId),{preserveScroll:!0,onSuccess:()=>{r({show:!1,quotationId:null})}})},title:"Cancel Quotation",message:"Are you sure you want to cancel this quotation request? This action cannot be undone.",confirmText:"Cancel Request",variant:"danger"})]})}export{N as default};
