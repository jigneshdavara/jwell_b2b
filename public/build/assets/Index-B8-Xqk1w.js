import{u as x,r as m,j as e,H as h,L as r,b as c}from"./app-QzdpPliV.js";import{A as u}from"./AuthenticatedLayout-DHRvdEI_.js";import"./FlashMessage-C6pnsQhr.js";const p=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:s,maximumFractionDigits:0});function g(){const{cart:s}=x().props,a=m.useMemo(()=>p(s.currency||"INR"),[s.currency]),n=(t,d)=>{const o=Math.max(1,t.quantity+d);c.patch(route("frontend.cart.items.update",t.id),{quantity:o},{preserveScroll:!0,preserveState:!0})},i=t=>{c.delete(route("frontend.cart.items.destroy",t.id),{preserveScroll:!0})},l=s.items.length===0;return e.jsxs(u,{children:[e.jsx(h,{title:"Cart"}),e.jsxs("div",{className:"space-y-10",id:"cart",children:[e.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Purchase List"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Review your curated pieces before proceeding to secure payment and production planning."})]}),e.jsx(r,{href:route("frontend.checkout.show"),className:`rounded-full px-5 py-2 text-sm font-semibold transition ${l?"cursor-not-allowed bg-slate-300 text-slate-500":"bg-sky-600 text-white shadow-lg shadow-sky-600/30 hover:bg-sky-500"}`,as:l?void 0:"button",disabled:l,children:"Proceed to checkout"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/80",children:l?e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 py-16 text-sm text-slate-500",children:[e.jsx("p",{children:"Your cart is empty. Explore the catalogue to add designs."}),e.jsx(r,{href:route("frontend.catalog.index"),className:"rounded-full bg-slate-900 px-5 py-2 text-sm font-semibold text-white hover:bg-slate-700",children:"Browse catalogue"})]}):e.jsx("div",{className:"space-y-4",children:s.items.map(t=>e.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-slate-200 p-5 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-start gap-4",children:[t.thumbnail&&e.jsx("img",{src:t.thumbnail,alt:t.name,className:"h-20 w-20 rounded-xl object-cover shadow"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:t.name}),e.jsxs("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:["SKU ",t.sku]}),t.variant_label&&e.jsx("p",{className:"mt-1 text-xs font-medium text-slate-500",children:t.variant_label}),e.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["Base ",a.format(t.price_breakdown.base??0)," · Making"," ",a.format(t.price_breakdown.making??0)]})]})]}),e.jsxs("div",{className:"flex flex-col items-start gap-3 md:flex-row md:items-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 rounded-full border border-slate-200 bg-slate-50 px-4 py-2",children:[e.jsx("button",{type:"button",onClick:()=>n(t,-1),className:"text-lg text-slate-500 hover:text-slate-800",children:"−"}),e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:t.quantity}),e.jsx("button",{type:"button",onClick:()=>n(t,1),className:"text-lg text-slate-500 hover:text-slate-800",children:"+"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:"Total"}),e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:a.format(t.line_total)})]}),e.jsx("button",{type:"button",onClick:()=>i(t),className:"text-xs font-medium text-rose-500 hover:text-rose-600",children:"Remove"})]})]},t.id))})})}),e.jsx("aside",{className:"space-y-6",children:e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/80",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Order summary"}),e.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-600",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:a.format(s.subtotal)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Tax"}),e.jsx("span",{children:a.format(s.tax)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-",a.format(s.discount)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{children:a.format(s.shipping)})]}),e.jsx("div",{className:"border-t border-slate-200 pt-3 font-semibold text-slate-900",children:e.jsxs("div",{className:"flex items-center justify-between text-base",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:a.format(s.total)})]})})]}),e.jsx(r,{href:route("frontend.checkout.show"),className:`mt-6 block rounded-full px-4 py-2 text-center text-sm font-semibold transition ${l?"cursor-not-allowed bg-slate-300 text-slate-500":"bg-sky-600 text-white shadow-lg shadow-sky-600/30 hover:bg-sky-500"}`,as:l?void 0:"button",disabled:l,children:"Proceed to checkout"})]})})]})]})]})}export{g as default};
