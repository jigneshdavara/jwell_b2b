import{u as l,j as e,H as r,L as d}from"./app-CPxam-6j.js";import{A as i}from"./AuthenticatedLayout-f--Yb3FG.js";import"./FlashMessage-B-NMsk7Y.js";const a=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}),n={pending:"bg-amber-100 text-amber-700",pending_payment:"bg-amber-100 text-amber-700",payment_failed:"bg-rose-100 text-rose-700",awaiting_materials:"bg-indigo-100 text-indigo-700",under_production:"bg-indigo-100 text-indigo-700",approved:"bg-emerald-100 text-emerald-700",in_production:"bg-indigo-100 text-indigo-700",quality_check:"bg-blue-100 text-blue-700",ready_to_dispatch:"bg-purple-100 text-purple-700",dispatched:"bg-sky-100 text-sky-700",delivered:"bg-emerald-100 text-emerald-700",cancelled:"bg-rose-100 text-rose-700",paid:"bg-emerald-100 text-emerald-700"};function m(){const{order:t}=l().props;return e.jsxs(i,{children:[e.jsx(r,{title:`Order ${t.reference}`}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("header",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:"Order reference"}),e.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:t.reference}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-slate-500",children:[e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${n[t.status]??"bg-slate-200 text-slate-700"}`,children:t.status_label}),e.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 font-semibold text-slate-700",children:[t.items.length," items"]}),e.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 font-semibold text-slate-700",children:t.created_at?new Date(t.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A"})]})]}),e.jsxs("section",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/80",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Items"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[t.items.map(s=>e.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 text-sm text-slate-600",children:[e.jsxs("div",{className:"flex flex-col gap-1 md:flex-row md:items-center md:justify-between",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:s.name}),e.jsxs("span",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:["SKU ",s.sku]})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:["Qty ",s.quantity]}),e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:a.format(s.total_price)})]})]},s.id)),t.items.length===0&&e.jsx("p",{className:"rounded-2xl border border-dashed border-slate-300 p-6 text-center text-sm text-slate-500",children:"No line items attached to this order."})]})]}),e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/80",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Payments"}),e.jsxs("div",{className:"mt-4 space-y-3 text-sm text-slate-600",children:[t.payments.length===0&&e.jsx("p",{className:"rounded-2xl border border-dashed border-slate-300 p-6 text-center text-xs text-slate-500",children:"No payments recorded yet."}),t.payments.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 px-4 py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-800",children:s.status}),e.jsx("p",{className:"text-xs text-slate-400",children:s.created_at?new Date(s.created_at).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A"})]}),e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:a.format(s.amount)})]},s.id))]}),(t.status==="pending_payment"||t.status==="payment_failed")&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(d,{href:route("frontend.orders.pay",t.id),className:"rounded-full bg-sky-600 px-4 py-2 text-xs font-semibold text-white shadow-sky-600/30 transition hover:bg-sky-500",children:"Proceed to payment"})}),t.status==="payment_failed"&&e.jsx("p",{className:"mt-2 text-xs text-rose-500",children:"Previous attempt failed. Please retry the payment."})]}),e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/80",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Status history"}),e.jsx("div",{className:"mt-4 space-y-3 text-sm text-slate-600",children:t.status_history.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 px-4 py-3",children:[e.jsx("span",{className:"font-semibold text-slate-800",children:s.status.replace(/_/g," ")}),e.jsx("span",{className:"text-xs text-slate-400",children:s.created_at?new Date(s.created_at).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"})]},s.id))})]})]}),e.jsx("aside",{className:"space-y-4",children:e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/80",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Summary"}),e.jsxs("dl",{className:"mt-4 space-y-3 text-sm text-slate-600",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{children:"Subtotal"}),e.jsx("dd",{children:a.format(t.subtotal_amount)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{children:"Tax"}),e.jsx("dd",{children:a.format(t.tax_amount)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{children:"Discount"}),e.jsxs("dd",{children:["-",a.format(t.discount_amount)]})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-3 text-base font-semibold text-slate-900",children:[e.jsx("dt",{children:"Total"}),e.jsx("dd",{children:a.format(t.total_amount)})]})]})]})})]})]})]})}export{m as default};
