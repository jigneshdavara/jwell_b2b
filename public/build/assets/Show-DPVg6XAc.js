import{j as e,r as i,u as X,a as Y,H as ee,b as Q}from"./app-ZBegTQyu.js";import{A as te}from"./AuthenticatedLayout-DSalwwtb.js";import"./ApplicationLogo-DypG9BZ1.js";import"./FlashMessage-CFH4qtO3.js";function se({children:r,isSelected:u,isDisabled:b=!1,onClick:_}){return e.jsx("button",{type:"button",onClick:_,disabled:b,className:`
                inline-flex items-center rounded-full px-4 py-2 text-sm font-medium transition-all shadow-sm
                ${u?"bg-[#0E244D] text-white shadow-md":b?"border border-slate-200 bg-slate-50 text-slate-400 cursor-not-allowed":"border border-[#0E244D]/30 bg-white text-[#0E244D] hover:bg-[#F8F5F0] hover:border-[#0E244D]/50"}
            `,children:r})}function ae({configurationOptions:r,selectedVariantId:u,onVariantChange:b}){const _=s=>{if(s.purityName&&s.toneName&&s.metalName)return`${s.purityName} ${s.toneName}`;let t=s.label.replace(/\s+\d+\.?\d*\s*g\s*$/i,"").replace(/\s+\d+\.?\d*\s*grams?\s*$/i,"").trim();const o=t.split(/\s+/).filter(d=>d.length>0);if(o.length===0)return t;const c=o[0];o[o.length-1];const a=o.slice(1,o.length-1).join(" ");return`${c} ${a}`.trim()},h=i.useMemo(()=>{const s=new Map;return r.forEach(t=>{if(t.metals.length===0)return;const c=t.metals.map(_).join(" + "),a=`metals_${t.metals.map(d=>`${d.metalId}_${d.metalPurityId??"null"}_${d.metalToneId??"null"}`).sort().join("|")}`;if(!s.has(a))s.set(a,{id:a,label:c,variantIds:[t.variant_id]});else{const d=s.get(a);d.variantIds.includes(t.variant_id)||d.variantIds.push(t.variant_id)}}),Array.from(s.values()).sort((t,o)=>t.label.localeCompare(o.label))},[r]),k=s=>{const t=s.label.split(" ").filter(l=>l.length>0&&!l.match(/^\d+\.\d+ct$/i)&&!l.match(/^\(\d+\)$/));let o="",c="";for(let l=0;l<t.length;l++){const a=t[l];if(/^(SI|VS|VVS|IF|FL|I[1-3]|VVS[12]|VS[12])/i.test(a)){if(o=a.toUpperCase(),l>0){const d=t[l-1];/^[A-Z]{1,2}$/i.test(d)&&d.length<=2&&(c=d.toUpperCase())}break}}return!o&&t.length>=4&&(o=t[3]?.toUpperCase()||"",c=t[2]?.toUpperCase()||""),o&&c?`${o} ${c}`:o||s.label.split(" ").slice(0,4).join(" ")},S=i.useMemo(()=>{const s=new Map;return r.forEach(t=>{if(t.diamonds.length===0)return;const c=t.diamonds.map(k).join(" + "),a=`diamonds_${t.diamonds.map(d=>`${d.diamondShapeId}_${d.diamondColorId}_${d.diamondClarityId}`).sort().join("|")}`;if(!s.has(a))s.set(a,{id:a,label:c,variantIds:[t.variant_id]});else{const d=s.get(a);d.variantIds.includes(t.variant_id)||d.variantIds.push(t.variant_id)}}),Array.from(s.values()).sort((t,o)=>t.label.localeCompare(o.label))},[r]),m=i.useMemo(()=>r.find(s=>s.variant_id===u)??null,[u,r]),y=i.useMemo(()=>!m||m.metals.length===0?null:`metals_${m.metals.map(t=>`${t.metalId}_${t.metalPurityId??"null"}_${t.metalToneId??"null"}`).sort().join("|")}`,[m]),n=i.useMemo(()=>!m||m.diamonds.length===0?null:`diamonds_${m.diamonds.map(t=>`${t.diamondShapeId}_${t.diamondColorId}_${t.diamondClarityId}`).sort().join("|")}`,[m]),f=i.useMemo(()=>s=>{if(!s)return new Set(S.map(c=>c.id));const t=new Set,o=h.find(c=>c.id===s);return o&&o.variantIds.forEach(c=>{const l=r.find(a=>a.variant_id===c);if(l&&l.diamonds.length>0){const d=`diamonds_${l.diamonds.map(x=>`${x.diamondShapeId}_${x.diamondColorId}_${x.diamondClarityId}`).sort().join("|")}`;t.add(d)}}),t},[r,S,h]),v=i.useMemo(()=>s=>{if(!s)return new Set(h.map(c=>c.id));const t=new Set,o=S.find(c=>c.id===s);return o&&o.variantIds.forEach(c=>{const l=r.find(a=>a.variant_id===c);if(l&&l.metals.length>0){const d=`metals_${l.metals.map(x=>`${x.metalId}_${x.metalPurityId??"null"}_${x.metalToneId??"null"}`).sort().join("|")}`;t.add(d)}}),t},[r,h,S]);i.useMemo(()=>f(y),[y,f]);const D=i.useMemo(()=>v(n),[n,v]),N=(s,t)=>{const o=h.find(a=>a.id===s),c=S.find(a=>a.id===t);return!o||!c?null:o.variantIds.find(a=>c.variantIds.includes(a))??null},E=s=>{if(y===s){b(null);return}if(n){const t=N(s,n);b(t)}else{const t=h.find(o=>o.id===s);b(t?.variantIds[0]??null)}},w=y&&n&&!m;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-[#0E244D] mb-2",children:"Customization"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Select your preferred metal and diamond quality to see pricing."})]}),h.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#0E244D]",children:"Metal"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:h.map(s=>{const t=!n||D.has(s.id);return e.jsx(se,{isSelected:y===s.id,isDisabled:!t,onClick:()=>E(s.id),children:s.label},s.id)})})]}),w&&e.jsx("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-600",children:"This combination is not available."})]})}function ne({selectedConfig:r,productDescription:u}){const[b,_]=i.useState("details"),[h,k]=i.useState(new Set(["metal","diamond","general","description"])),S=n=>{k(f=>{const v=new Set(f);return v.has(n)?v.delete(n):v.add(n),v})},m=i.useMemo(()=>!r||!r.metals||r.metals.length===0?[]:r.metals.map(n=>{const f=n.purityName||n.label.match(/(\d+K|\d{3})/i)?.[1]?.toUpperCase()||"—",v=n.toneName||"—";let D="—";if(n.metalWeight){const t=parseFloat(n.metalWeight);!isNaN(t)&&t>0&&(D=t%1===0?`${t.toFixed(0)} g`:`${t.toFixed(2)} g`)}const N=n.metalName||(n.label.toLowerCase().includes("gold")?"Gold":n.label.toLowerCase().includes("silver")?"Silver":n.label.toLowerCase().includes("platinum")?"Platinum":"—"),E=n.label.replace(/\s+\d+\.?\d*\s*g\s*$/i,"").replace(/\s+\d+\.?\d*\s*grams?\s*$/i,"").trim(),w=E.split(/\s+/).filter(t=>t.length>0),s=w.length>=3?w.slice(0,3).join(" "):E;return{id:`${n.metalId}_${n.metalPurityId??"null"}_${n.metalToneId??"null"}`,title:s,karatage:f,materialColour:v,grossMetalWeight:D,metal:N}}),[r]),y=i.useMemo(()=>{if(!r||r.diamonds.length===0)return null;const n=r.diamonds,f=n[0],v=f.label.split(" ").filter(a=>a.length>0&&!a.match(/^\d+\.\d+ct$/i)&&!a.match(/^\(\d+\)$/));let D="",N="";for(let a=0;a<v.length;a++){const d=v[a];if(/^(SI|VS|VVS|IF|FL|I[1-3]|VVS[12]|VS[12])/i.test(d)){if(D=d.toUpperCase(),a>0){const x=v[a-1];/^[A-Z]{1,2}$/i.test(x)&&x.length<=2&&(N=x.toUpperCase())}break}}const E=D&&N?`${D} ${N}`:f.label.split(" ").slice(0,4).join(" "),w=f.label.match(/\b(Round|Princess|Oval|Emerald|Cushion|Marquise|Pear|Asscher|Radiant|Heart)\b/i),s=w?w[1]:"—",t=n.reduce((a,d)=>{const x=parseFloat(d.totalCarat||"0");return a+(isNaN(x)?0:x)},0),o=t>0?`${t.toFixed(2)} ct`:"—",c=n.reduce((a,d)=>a+(d.stoneCount||0),0),l=c>0?c.toString():"—";return{diamondQuality:E,diamondShape:s,totalCaratWeight:o,numberOfDiamonds:l}},[r]);return e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex border-b border-[#0E244D]/20",children:[e.jsx("button",{type:"button",onClick:()=>_("details"),className:`px-4 py-2 text-sm font-semibold transition-colors ${b==="details"?"text-[#0E244D] border-b-2 border-[#0E244D]":"text-gray-500 hover:text-[#0E244D]"}`,children:"Product Details"}),e.jsx("button",{type:"button",onClick:()=>_("price"),className:`px-4 py-2 text-sm font-semibold transition-colors ${b==="price"?"text-[#0E244D] border-b-2 border-[#0E244D]":"text-gray-500 hover:text-[#0E244D]"}`,children:"Price Breakup"})]}),b==="details"&&e.jsxs("div",{className:"space-y-4",children:[r&&e.jsxs("div",{className:"rounded-2xl bg-white border border-[#0E244D]/10 shadow-sm overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>S("metal"),className:"w-full flex items-center justify-between px-6 py-4 text-left hover:bg-[#F8F5F0]/50 transition-colors",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0E244D]",children:"Metal Details"}),e.jsx("svg",{className:`w-5 h-5 text-[#0E244D] transition-transform ${h.has("metal")?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h.has("metal")&&e.jsx("div",{className:"px-6 pb-6 space-y-6",children:m.length>0?m.map((n,f)=>e.jsxs("div",{className:f>0?"pt-6 border-t border-gray-200":"",children:[e.jsx("h4",{className:"text-sm font-semibold text-[#0E244D] mb-4",children:n.title}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Karatage"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:n.karatage})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Material Colour"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:n.materialColour})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Gross Metal Weight"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:n.grossMetalWeight})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Metal"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:n.metal})]})]})]},n.id)):e.jsx("div",{className:"text-sm text-gray-500",children:"No metal details available for this configuration."})})]}),r&&e.jsxs("div",{className:"rounded-2xl bg-white border border-[#0E244D]/10 shadow-sm overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>S("diamond"),className:"w-full flex items-center justify-between px-6 py-4 text-left hover:bg-[#F8F5F0]/50 transition-colors",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0E244D]",children:"Diamond Details"}),e.jsx("svg",{className:`w-5 h-5 text-[#0E244D] transition-transform ${h.has("diamond")?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h.has("diamond")&&e.jsx("div",{className:"px-6 pb-6",children:y?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Diamond Quality"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:y.diamondQuality})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Diamond Shape"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:y.diamondShape})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Total Carat Weight"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:y.totalCaratWeight})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-gray-500 mb-1",children:"Number of Diamonds"}),e.jsx("div",{className:"text-lg font-semibold text-[#0E244D]",children:y.numberOfDiamonds})]})]}):e.jsx("div",{className:"text-sm text-gray-500",children:"No diamond details available for this configuration."})})]}),e.jsxs("div",{className:"rounded-2xl bg-white border border-[#0E244D]/10 shadow-sm overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>S("general"),className:"w-full flex items-center justify-between px-6 py-4 text-left hover:bg-[#F8F5F0]/50 transition-colors",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0E244D]",children:"General Details"}),e.jsx("svg",{className:`w-5 h-5 text-[#0E244D] transition-transform ${h.has("general")?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h.has("general")&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"text-sm text-gray-600",children:"General product information will be displayed here."})})]}),u&&e.jsxs("div",{className:"rounded-2xl bg-white border border-[#0E244D]/10 shadow-sm overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>S("description"),className:"w-full flex items-center justify-between px-6 py-4 text-left hover:bg-[#F8F5F0]/50 transition-colors",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0E244D]",children:"Description"}),e.jsx("svg",{className:`w-5 h-5 text-[#0E244D] transition-transform ${h.has("description")?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h.has("description")&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",children:u})})]})]}),b==="price"&&r&&e.jsxs("div",{className:"rounded-2xl bg-white border border-[#0E244D]/10 shadow-sm p-6",children:[e.jsx("h3",{className:"text-base font-semibold text-[#0E244D] mb-4",children:"Price Breakdown"}),e.jsxs("div",{className:"space-y-3",children:[r.price_breakup.metal>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Metal"}),e.jsxs("span",{className:"text-sm font-semibold text-[#0E244D]",children:["₹",r.price_breakup.metal.toLocaleString("en-IN")]})]}),r.price_breakup.diamond>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Diamond"}),e.jsxs("span",{className:"text-sm font-semibold text-[#0E244D]",children:["₹",r.price_breakup.diamond.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Making Charge"}),e.jsxs("span",{className:"text-sm font-semibold text-[#0E244D]",children:["₹",r.price_breakup.making.toLocaleString("en-IN")]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-base font-semibold text-[#0E244D]",children:"Total"}),e.jsxs("span",{className:"text-lg font-bold text-[#0E244D]",children:["₹",r.price_total.toLocaleString("en-IN")]})]})})]})]})]})}const F=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0});function xe(){const r=X(),{product:u,configurationOptions:b}=r.props,_=r.props.wishlist?.product_ids??[],h=i.useMemo(()=>new Set(_),[_]),[k,S]=i.useState(b[0]?.variant_id??null),m=i.useMemo(()=>b.find(p=>p.variant_id===k)??null,[k,b]),[y,n]=i.useState(!1),[f,v]=i.useState(!1),[D,N]=i.useState("1"),[E,w]=i.useState(0),[s,t]=i.useState(!1),[o,c]=i.useState(1.5),l=u.media.length,a=l>0,d=a?u.media[Math.min(E,l-1)]:null,{data:x,setData:M,post:R,processing:C,errors:$}=Y({product_id:u.id,product_variant_id:k??null,quantity:1,notes:""});i.useEffect(()=>{N(String(x.quantity))},[k,x.quantity]),i.useEffect(()=>{M("product_variant_id",k??null)},[k,M]);const[ie,le]=i.useState(!1),[re,B]=i.useState(h.has(u.id));i.useEffect(()=>{B(h.has(u.id))},[h,u.id]),i.useEffect(()=>{w(0)},[u.id]),i.useEffect(()=>{E>l-1&&w(Math.max(l-1,0))},[E,l]);const O=i.useMemo(()=>m?m.price_total:0,[m]),U=p=>{if(p.preventDefault(),C||A)return;const g={product_id:u.id,product_variant_id:x.product_variant_id,quantity:x.quantity,configuration:{notes:x.notes}};Q.post(route("frontend.cart.items.store"),g,{preserveScroll:!0})},z=()=>{C||f||(v(!0),R(route("frontend.quotations.store"),{preserveScroll:!0,onSuccess:()=>n(!1),onFinish:()=>v(!1)}))},K=()=>{const p={product_id:u.id,product_variant_id:x.product_variant_id,quantity:x.quantity,configuration:{notes:x.notes}};Q.post(route("frontend.cart.items.store"),p,{preserveScroll:!0,onSuccess:()=>{n(!1)}})},Z=i.useCallback(()=>{a&&t(!0)},[a]),P=i.useCallback(()=>{t(!1)},[]),V=i.useCallback(()=>c(1.5),[]),W=i.useCallback(()=>{!a||l<=1||w(p=>(p-1+l)%l)},[a,l]),T=i.useCallback(()=>{!a||l<=1||w(p=>(p+1)%l)},[a,l]);i.useEffect(()=>{if(!s||typeof document>"u")return;const p=document.body.style.overflow;document.body.style.overflow="hidden";const g=I=>{I.key==="Escape"?P():I.key==="ArrowRight"?T():I.key==="ArrowLeft"&&W()};return window.addEventListener("keydown",g),()=>{document.body.style.overflow=p,window.removeEventListener("keydown",g)}},[s,P,T,W]),i.useEffect(()=>{s&&V()},[E,s,V]);const A=b.length>0&&!m,j=m?.inventory_quantity??null,L=j!==null&&j===0,G=parseInt(D,10)||1,q=j!==null&&j>0&&G>j,H=L||q;return i.useEffect(()=>{N(String(x.quantity))},[k]),e.jsxs(te,{children:[e.jsx(ee,{title:u.name}),e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid gap-10 lg:grid-cols-[1.6fr_1fr]",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/80",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:u.name}),u.brand&&e.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["by ",u.brand]})]}),a&&e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"relative aspect-square w-full overflow-hidden rounded-2xl bg-slate-100",children:e.jsx("img",{src:d?.url,alt:d?.alt??u.name,className:"h-full w-full object-cover",onClick:Z,onError:p=>{const g=p.target;g.src="/placeholder-image.png"}})}),l>1&&e.jsx("div",{className:"mt-4 flex gap-2 overflow-x-auto pb-2",children:u.media.map((p,g)=>e.jsx("button",{type:"button",onClick:()=>w(g),className:`relative h-20 w-20 flex-shrink-0 overflow-hidden rounded-xl border-2 transition ${g===E?"border-feather-gold":"border-transparent hover:border-slate-300"}`,children:e.jsx("img",{src:p.url,alt:p.alt??u.name,className:"h-full w-full object-cover",onError:I=>{const J=I.target;J.src="/placeholder-image.png"}})},g))})]}),e.jsx(ne,{selectedConfig:m,productDescription:u.description})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("form",{onSubmit:U,className:"w-full space-y-5 rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/80",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Request quotation"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Select your configuration and our merchandising desk will share pricing shortly."})]}),b.length>0&&e.jsx(ae,{configurationOptions:b,selectedVariantId:k,onVariantChange:S}),e.jsxs("label",{className:"block space-y-1",children:[e.jsxs("span",{className:"text-xs font-semibold text-slate-600",children:["Quantity",j!==null&&j>0&&!q&&e.jsxs("span",{className:"ml-1 font-normal text-slate-500",children:["(Available: ",j,")"]})]}),e.jsx("input",{type:"number",min:"1",max:j!==null&&j>0?j:void 0,value:D,onChange:p=>{const g=p.target.value;N(g);const I=parseInt(g,10);!isNaN(I)&&I>=1&&M("quantity",I)},onBlur:p=>{const g=parseInt(D,10);isNaN(g)||g<1?(N("1"),M("quantity",1)):(N(String(g)),M("quantity",g))},className:`w-full rounded-2xl border px-4 py-2.5 text-sm text-slate-900 focus:outline-none focus:ring-2 ${q&&!L?"border-rose-300 bg-rose-50 focus:border-rose-400 focus:ring-rose-400/20":"border-slate-200 bg-white focus:border-feather-gold focus:ring-feather-gold/20"}`}),$.quantity&&e.jsx("span",{className:"text-xs text-rose-500",children:$.quantity}),q&&!L&&!$.quantity&&j!==null&&e.jsxs("span",{className:"text-xs text-rose-500",children:["Only ",j," ",j===1?"item is":"items are"," ","available. Maximum ",j," ",j===1?"item":"items"," ","allowed for request."]})]}),e.jsxs("label",{className:"block space-y-1",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600",children:"Notes (optional)"}),e.jsx("textarea",{rows:4,value:x.notes,onChange:p=>M("notes",p.target.value),className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-2.5 text-sm text-slate-900 focus:border-feather-gold focus:outline-none focus:ring-2 focus:ring-feather-gold/20",placeholder:"List required scope: hallmarking, hallmark packaging, diamond certification, delivery deadlines…"}),$.notes&&e.jsx("span",{className:"text-xs text-rose-500",children:$.notes})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[e.jsx("p",{className:"font-semibold text-slate-700",children:"Estimated total"}),m?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mt-1 text-xl font-semibold text-slate-900",children:F.format(O)}),e.jsx("p",{className:"text-xs text-slate-500",children:"Includes metal, diamond, and making charge. Final quotation may vary with bullion/diamond parity and labour."}),m&&e.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[m.price_breakup.metal>0&&e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{children:"Metal:"}),e.jsx("span",{className:"font-medium",children:F.format(m.price_breakup.metal)})]}),m.price_breakup.diamond>0&&e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{children:"Diamond:"}),e.jsx("span",{className:"font-medium",children:F.format(m.price_breakup.diamond)})]}),e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{children:"Making:"}),e.jsx("span",{className:"font-medium",children:F.format(m.price_breakup.making)})]})]})]}):e.jsx("p",{className:"mt-1 text-sm text-rose-600",children:"Please select a configuration to see pricing."})]}),L&&e.jsx("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-amber-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Out of Stock"}),e.jsx("p",{className:"text-xs mt-0.5",children:"This product variant is currently out of stock. Quotation requests are not available."})]})]})}),e.jsx("button",{type:"submit",disabled:C||A||H,className:"w-full rounded-full bg-elvee-blue px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-elvee-blue/30 transition hover:bg-navy disabled:cursor-not-allowed disabled:opacity-60",children:C?"Submitting…":"Request quotation"})]})})]})}),y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"w-full max-w-md space-y-4 rounded-3xl bg-white p-6 shadow-2xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Confirm quotation"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Submit this quotation request with the selected configuration? Our merchandising desk will review and respond shortly."}),e.jsxs("div",{className:"space-y-2 rounded-2xl bg-slate-50 p-4 text-xs text-slate-500",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"Mode:"})," "]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"Quantity:"})," ",x.quantity]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",className:"rounded-full border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-600 hover:border-slate-400 hover:text-slate-900",onClick:()=>n(!1),disabled:f,children:"Review again"}),e.jsx("button",{type:"button",className:"rounded-full border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-600 hover:border-slate-400 hover:text-slate-900",onClick:K,disabled:f,children:"Add to quotation list"}),e.jsx("button",{type:"button",className:"rounded-full bg-elvee-blue px-4 py-2 text-sm font-semibold text-white shadow-elvee-blue/30 hover:bg-navy disabled:cursor-not-allowed disabled:opacity-60",onClick:z,disabled:f,children:f?"Submitting…":"Confirm submission"})]})]})})]})}export{xe as default};
