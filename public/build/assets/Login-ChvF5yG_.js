import{j as e,r as g,a as c,H as y,L as d}from"./app-DkJetrPT.js";import{I as i}from"./InputError-BId3t6vH.js";import{I as o}from"./InputLabel-BomgAFN7.js";import{P as x}from"./PrimaryButton-CZ9xkLII.js";import{T as n}from"./TextInput-BGh0-aWs.js";import{G as k}from"./GuestLayout-TyCBJRCK.js";import"./FlashMessage-BT8-rBiH.js";function C({className:l="",...m}){return e.jsx("input",{...m,type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 "+l})}function P({status:l,canResetPassword:m}){const[u,p]=g.useState("password"),[h,w]=g.useState(!1),t=c({email:"",password:"",remember:!1}),r=c({email:""}),a=c({email:"",code:""}),j=s=>{t.setData("email",s),r.setData("email",s),a.setData("email",s)},f=t.data.email,b=s=>{s.preventDefault(),t.post(route("login"),{onFinish:()=>t.reset("password")})},N=s=>{s.preventDefault(),r.post(route("login.otp.send"),{onSuccess:()=>w(!0)})},v=s=>{s.preventDefault(),a.post(route("login.otp.verify"))};return e.jsxs(k,{children:[e.jsx(y,{title:"Log in"}),e.jsxs("div",{className:"mx-auto grid w-full max-w-5xl gap-10 lg:grid-cols-[minmax(0,1fr),400px] lg:items-start",children:[e.jsxs("aside",{className:"space-y-6 text-slate-200",children:[e.jsx("h1",{className:"text-3xl font-semibold text-white",children:"Welcome back to AurumCraft"}),e.jsx("p",{className:"text-sm text-slate-300",children:"Sign in to manage partnership pricing, monitor jobwork milestones, and keep wholesale orders moving in one place."}),e.jsxs("ul",{className:"space-y-3 text-sm text-slate-200",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"mt-0.5 inline-flex h-6 w-6 items-center justify-center rounded-full bg-sky-500/80 text-xs font-semibold text-white",children:"✓"}),e.jsx("span",{children:"Track catalogue enquiries and approved pricing in real time."})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"mt-0.5 inline-flex h-6 w-6 items-center justify-center rounded-full bg-sky-500/80 text-xs font-semibold text-white",children:"✓"}),e.jsx("span",{children:"Submit and monitor jobwork requests with production updates."})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"mt-0.5 inline-flex h-6 w-6 items-center justify-center rounded-full bg-sky-500/80 text-xs font-semibold text-white",children:"✓"}),e.jsx("span",{children:"Access exclusive offers, metal rates, and credit limits."})]})]}),l&&e.jsx("div",{className:"rounded-2xl bg-emerald-500/10 px-4 py-3 text-sm font-medium text-emerald-200",children:l}),e.jsxs("p",{className:"text-sm text-slate-300",children:["New to AurumCraft?"," ",e.jsx(d,{href:route("register"),className:"font-semibold text-white underline decoration-slate-400 hover:decoration-white",children:"Create an account"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-3xl bg-white p-6 shadow-xl ring-1 ring-slate-200/70",children:[e.jsxs("header",{className:"mb-6 space-y-1",children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Sign in to your account"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Use your password or request a one-time code via email."})]}),u==="password"?e.jsxs("form",{onSubmit:b,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",value:"Email"}),e.jsx(n,{id:"email",type:"email",name:"email",value:f,className:"mt-1 block w-full",autoComplete:"username",isFocused:!0,onChange:s=>j(s.target.value)}),e.jsx(i,{message:t.errors.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"password",value:"Password"}),e.jsx(n,{id:"password",type:"password",name:"password",value:t.data.password,className:"mt-1 block w-full",autoComplete:"current-password",onChange:s=>t.setData("password",s.target.value)}),e.jsx(i,{message:t.errors.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(C,{name:"remember",checked:t.data.remember,onChange:s=>t.setData("remember",s.target.checked)}),e.jsx("span",{children:"Remember me"})]}),m&&e.jsx(d,{href:route("password.request"),className:"text-slate-600 underline hover:text-slate-800",children:"Forgot password?"})]}),e.jsx(x,{className:"w-full",disabled:t.processing,children:"Log in"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"otp_email",value:"Email"}),e.jsx(n,{id:"otp_email",type:"email",name:"email",value:f,className:"mt-1 block w-full",autoComplete:"username",isFocused:!0,onChange:s=>j(s.target.value)}),e.jsx(i,{message:r.errors.email,className:"mt-2"})]}),e.jsx(x,{className:"w-full",disabled:r.processing,children:h?"Resend code":"Send login code"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"otp_code",value:"One-time code"}),e.jsx(n,{id:"otp_code",type:"text",inputMode:"numeric",pattern:"[0-9]*",name:"code",value:a.data.code,className:"mt-1 block w-full tracking-[0.5em]",placeholder:"------",onChange:s=>a.setData("code",s.target.value)}),e.jsx(i,{message:a.errors.code,className:"mt-2"})]}),e.jsx(x,{className:"w-full",disabled:a.processing||!h,children:"Log in with code"})]})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-slate-500",children:u==="password"?e.jsx("button",{type:"button",onClick:()=>p("otp"),className:"font-semibold text-slate-700 underline hover:text-slate-900",children:"Prefer email OTP? Get a code instead"}):e.jsx("button",{type:"button",onClick:()=>p("password"),className:"font-semibold text-slate-700 underline hover:text-slate-900",children:"Back to password login"})})]}),e.jsxs("div",{className:"text-center text-sm text-slate-500",children:["Need an account?"," ",e.jsx(d,{href:route("register"),className:"font-semibold text-slate-700 underline hover:text-slate-900",children:"Sign up"})]})]})]})]})}export{P as default};
